{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{\"3HUT\":function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return f}));var n=r(\"rePB\"),o=r(\"vQTQ\");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=\"https://dry-john.cdn.prismic.io/api/v2\",a=\"MC5ZRTlWNmhJQUFDWUFyQWM5.Te-_ve-_vTPvv73vv71OB--_ve-_ve-_vVPvv73vv71F77-977-9RX4777-977-977-977-977-9NO-_vUYaBgPvv70\",f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o.a.client(u,h(t,a))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t?{req:t}:{},n=e?{accessToken:e}:{};return s(s({},r),n)}},XWHH:function(t,e){var r=\"undefined\"!==typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r=\"URLSearchParams\"in t,n=\"Symbol\"in t&&\"iterator\"in Symbol,o=\"FileReader\"in t&&\"Blob\"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i=\"FormData\"in t,s=\"ArrayBuffer\"in t;if(s)var u=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],a=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if(\"string\"!==typeof t&&(t=String(t)),/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError(\"Invalid character in header field name\");return t.toLowerCase()}function h(t){return\"string\"!==typeof t&&(t=String(t)),t}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError(\"Already read\"));t.bodyUsed=!0}function d(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function y(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?\"string\"===typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||a(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText=\"\",this.headers.get(\"content-type\")||(\"string\"===typeof t?this.headers.set(\"content-type\",\"text/plain;charset=UTF-8\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\"content-type\",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"))},o&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\"could not read FormData body as blob\");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=d(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join(\"\")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\"could not read FormData body as text\");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=f(t),e=h(e);var r=this.map[t];this.map[t]=r?r+\", \"+e:e},p.prototype.delete=function(t){delete this.map[f(t)]},p.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},p.prototype.set=function(t,e){this.map[f(t)]=h(e)},p.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),c(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),c(t)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=[\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"POST\",\"PUT\"];function b(t,e){var r=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError(\"Already read\");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||\"same-origin\",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=function(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}(e.method||this.method||\"GET\"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(\"GET\"===this.method||\"HEAD\"===this.method)&&r)throw new TypeError(\"Body not allowed for GET or HEAD requests\");this._initBody(r)}function w(t){var e=new FormData;return t.trim().split(\"&\").forEach((function(t){if(t){var r=t.split(\"=\"),n=r.shift().replace(/\\+/g,\" \"),o=r.join(\"=\").replace(/\\+/g,\" \");e.append(decodeURIComponent(n),decodeURIComponent(o))}})),e}function O(t){var e=new p;return t.replace(/\\r?\\n[\\t ]+/g,\" \").split(/\\r?\\n/).forEach((function(t){var r=t.split(\":\"),n=r.shift().trim();if(n){var o=r.join(\":\").trim();e.append(n,o)}})),e}function A(t,e){e||(e={}),this.type=\"default\",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=\"statusText\"in e?e.statusText:\"OK\",this.headers=new p(e.headers),this.url=e.url||\"\",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:\"\"});return t.type=\"error\",t};var k=[301,302,303,307,308];A.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError(\"Invalid status code\");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(E){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function B(t,r){return new Promise((function(n,i){var s=new b(t,r);if(s.signal&&s.signal.aborted)return i(new e.DOMException(\"Aborted\",\"AbortError\"));var u=new XMLHttpRequest;function a(){u.abort()}u.onload=function(){var t={status:u.status,statusText:u.statusText,headers:O(u.getAllResponseHeaders()||\"\")};t.url=\"responseURL\"in u?u.responseURL:t.headers.get(\"X-Request-URL\");var e=\"response\"in u?u.response:u.responseText;n(new A(e,t))},u.onerror=function(){i(new TypeError(\"Network request failed\"))},u.ontimeout=function(){i(new TypeError(\"Network request failed\"))},u.onabort=function(){i(new e.DOMException(\"Aborted\",\"AbortError\"))},u.open(s.method,s.url,!0),\"include\"===s.credentials?u.withCredentials=!0:\"omit\"===s.credentials&&(u.withCredentials=!1),\"responseType\"in u&&o&&(u.responseType=\"blob\"),s.headers.forEach((function(t,e){u.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener(\"abort\",a),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener(\"abort\",a)}),u.send(\"undefined\"===typeof s._bodyInit?null:s._bodyInit)}))}B.polyfill=!0,t.fetch||(t.fetch=B,t.Headers=p,t.Request=b,t.Response=A),e.Headers=p,e.Request=b,e.Response=A,e.fetch=B,Object.defineProperty(e,\"__esModule\",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e},vQTQ:function(t,e,r){\"use strict\";var n=r(\"XWHH\"),o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=function(){function t(t){this.data={},this.data=t}return t.prototype.id=function(){return this.data.id},t.prototype.ref=function(){return this.data.ref},t.prototype.label=function(){return this.data.label},t}(),s=function(){function t(t){this.data={},this.data=t,this.variations=(t.variations||[]).map((function(t){return new i(t)}))}return t.prototype.id=function(){return this.data.id},t.prototype.googleId=function(){return this.data.googleId},t.prototype.name=function(){return this.data.name},t}(),u=function(){function t(t){t&&(this.drafts=(t.drafts||[]).map((function(t){return new s(t)})),this.running=(t.running||[]).map((function(t){return new s(t)})))}return t.prototype.current=function(){return this.running.length>0?this.running[0]:null},t.prototype.refFromCookie=function(t){if(!t||\"\"===t.trim())return null;var e=t.trim().split(\" \");if(e.length<2)return null;var r=e[0],n=parseInt(e[1],10),o=this.running.filter((function(t){return t.googleId()===r&&t.variations.length>n}))[0];return o?o.variations[n].ref():null},t}(),a=function(){function t(t,e){this.id=t,this.api=e,this.fields={}}return t.prototype.set=function(t,e){return this.fields[t]=e,this},t.prototype.ref=function(t){return this.set(\"ref\",t)},t.prototype.query=function(t){return this.set(\"q\",t)},t.prototype.pageSize=function(t){return this.set(\"pageSize\",t)},t.prototype.graphQuery=function(t){return this.set(\"graphQuery\",t)},t.prototype.lang=function(t){return this.set(\"lang\",t)},t.prototype.page=function(t){return this.set(\"page\",t)},t.prototype.after=function(t){return this.set(\"after\",t)},t.prototype.orderings=function(t){return this.set(\"orderings\",t)},t.prototype.url=function(){var e=this;return this.api.get().then((function(r){return t.toSearchForm(e,r).url()}))},t.prototype.submit=function(e){var r=this;return this.api.get().then((function(n){return t.toSearchForm(r,n).submit(e)}))},t.toSearchForm=function(t,e){var r=e.form(t.id);if(r)return Object.keys(t.fields).reduce((function(e,r){var n=t.fields[r];return\"q\"===r?e.query(n):\"pageSize\"===r?e.pageSize(n):\"graphQuery\"===r?e.graphQuery(n):\"lang\"===r?e.lang(n):\"page\"===r?e.page(n):\"after\"===r?e.after(n):\"orderings\"===r?e.orderings(n):e.set(r,n)}),r);throw new Error(\"Unable to access to form \"+t.id)},t}(),f=function(){function t(t,e){for(var r in this.httpClient=e,this.form=t,this.data={},t.fields)t.fields[r].default&&(this.data[r]=[t.fields[r].default])}return t.prototype.set=function(t,e){var r=this.form.fields[t];if(!r)throw new Error(\"Unknown field \"+t);var n=\"\"===e||void 0===e?null:e,o=this.data[t]||[];return o=r.multiple?n?o.concat([n]):o:n?[n]:o,this.data[t]=o,this},t.prototype.ref=function(t){return this.set(\"ref\",t)},t.prototype.query=function(t){if(\"string\"===typeof t)return this.query([t]);if(Array.isArray(t))return this.set(\"q\",\"[\"+t.join(\"\")+\"]\");throw new Error(\"Invalid query : \"+t)},t.prototype.pageSize=function(t){return this.set(\"pageSize\",t)},t.prototype.graphQuery=function(t){return this.set(\"graphQuery\",t)},t.prototype.lang=function(t){return this.set(\"lang\",t)},t.prototype.page=function(t){return this.set(\"page\",t)},t.prototype.after=function(t){return this.set(\"after\",t)},t.prototype.orderings=function(t){return t?this.set(\"orderings\",\"[\"+t.join(\",\")+\"]\"):this},t.prototype.url=function(){var t=this.form.action;if(this.data){var e=t.indexOf(\"?\")>-1?\"&\":\"?\";for(var r in this.data)if(Object.prototype.hasOwnProperty.call(this.data,r)){var n=this.data[r];if(n)for(var o=0;o<n.length;o++)t+=e+r+\"=\"+encodeURIComponent(n[o]),e=\"&\"}}return t},t.prototype.submit=function(t){return this.httpClient.cachedRequest(this.url()).then((function(e){return t&&t(null,e),e})).catch((function(e){throw t&&t(e),e}))},t}(),h=\"at\",c=\"not\",p=\"missing\",l=\"has\",d=\"any\",y=\"in\",g=\"fulltext\",v=\"similar\",m=\"number.gt\",b=\"number.lt\",w=\"number.inRange\",O=\"date.before\",A=\"date.after\",k=\"date.between\",B=\"date.day-of-month\",E=\"date.day-of-month-after\",x=\"date.day-of-month-before\",_=\"date.day-of-week\",T=\"date.day-of-week-after\",D=\"date.day-of-week-before\",I=\"date.month\",P=\"date.month-before\",j=\"date.month-after\",R=\"date.year\",q=\"date.hour\",U=\"date.hour-before\",S=\"date.hour-after\",F=\"geopoint.near\";function M(t){if(\"string\"===typeof t)return'\"'+t+'\"';if(\"number\"===typeof t)return t.toString();if(t instanceof Date)return t.getTime().toString();if(Array.isArray(t))return\"[\"+t.map((function(t){return M(t)})).join(\",\")+\"]\";if(\"boolean\"===typeof t)return t.toString();throw new Error(\"Unable to encode \"+t+\" of type \"+typeof t)}var C={near:function(t,e,r,n){return\"[\"+F+\"(\"+t+\", \"+e+\", \"+r+\", \"+n+\")]\"}},H={before:function(t,e){return\"[\"+O+\"(\"+t+\", \"+M(e)+\")]\"},after:function(t,e){return\"[\"+A+\"(\"+t+\", \"+M(e)+\")]\"},between:function(t,e,r){return\"[\"+k+\"(\"+t+\", \"+M(e)+\", \"+M(r)+\")]\"},dayOfMonth:function(t,e){return\"[\"+B+\"(\"+t+\", \"+e+\")]\"},dayOfMonthAfter:function(t,e){return\"[\"+E+\"(\"+t+\", \"+e+\")]\"},dayOfMonthBefore:function(t,e){return\"[\"+x+\"(\"+t+\", \"+e+\")]\"},dayOfWeek:function(t,e){return\"[\"+_+\"(\"+t+\", \"+M(e)+\")]\"},dayOfWeekAfter:function(t,e){return\"[\"+T+\"(\"+t+\", \"+M(e)+\")]\"},dayOfWeekBefore:function(t,e){return\"[\"+D+\"(\"+t+\", \"+M(e)+\")]\"},month:function(t,e){return\"[\"+I+\"(\"+t+\", \"+M(e)+\")]\"},monthBefore:function(t,e){return\"[\"+P+\"(\"+t+\", \"+M(e)+\")]\"},monthAfter:function(t,e){return\"[\"+j+\"(\"+t+\", \"+M(e)+\")]\"},year:function(t,e){return\"[\"+R+\"(\"+t+\", \"+e+\")]\"},hour:function(t,e){return\"[\"+q+\"(\"+t+\", \"+e+\")]\"},hourBefore:function(t,e){return\"[\"+U+\"(\"+t+\", \"+e+\")]\"},hourAfter:function(t,e){return\"[\"+S+\"(\"+t+\", \"+e+\")]\"}},L={gt:function(t,e){return\"[\"+m+\"(\"+t+\", \"+e+\")]\"},lt:function(t,e){return\"[\"+b+\"(\"+t+\", \"+e+\")]\"},inRange:function(t,e,r){return\"[\"+w+\"(\"+t+\", \"+e+\", \"+r+\")]\"}},W={at:function(t,e){return\"[\"+h+\"(\"+t+\", \"+M(e)+\")]\"},not:function(t,e){return\"[\"+c+\"(\"+t+\", \"+M(e)+\")]\"},missing:function(t){return\"[\"+p+\"(\"+t+\")]\"},has:function(t){return\"[\"+l+\"(\"+t+\")]\"},any:function(t,e){return\"[\"+d+\"(\"+t+\", \"+M(e)+\")]\"},in:function(t,e){return\"[\"+y+\"(\"+t+\", \"+M(e)+\")]\"},fulltext:function(t,e){return\"[\"+g+\"(\"+t+\", \"+M(e)+\")]\"},similar:function(t,e){return\"[\"+v+'(\"'+t+'\", '+e+\")]\"},date:H,dateBefore:H.before,dateAfter:H.after,dateBetween:H.between,dayOfMonth:H.dayOfMonth,dayOfMonthAfter:H.dayOfMonthAfter,dayOfMonthBefore:H.dayOfMonthBefore,dayOfWeek:H.dayOfWeek,dayOfWeekAfter:H.dayOfWeekAfter,dayOfWeekBefore:H.dayOfWeekBefore,month:H.month,monthBefore:H.monthBefore,monthAfter:H.monthAfter,year:H.year,hour:H.hour,hourBefore:H.hourBefore,hourAfter:H.hourAfter,number:L,gt:L.gt,lt:L.lt,inRange:L.inRange,near:C.near,geopoint:C},z=decodeURIComponent;var Q={parse:function(t,e){if(\"string\"!==typeof t)throw new TypeError(\"argument str must be a string\");var r={},n=e||{},o=t.split(/; */),i=n.decode||z;return o.forEach((function(t){var e=t.indexOf(\"=\");if(!(e<0)){var n=t.substr(0,e).trim(),o=t.substr(++e,t.length).trim();'\"'==o[0]&&(o=o.slice(1,-1)),void 0==r[n]&&(r[n]=function(t,e){try{return e(t)}catch(r){return t}}(o,i))}})),r}};function N(t,e,r){return{token:t,documentId:e,resolve:function(n,o,i){return e&&r?r(e,{ref:t}).then((function(t){if(t){var e=n&&n(t)||t.url||o;return i&&i(null,e),e}return i&&i(null,o),o})):Promise.resolve(o)}}}var J=\"io.prismic.preview\",X=\"io.prismic.experiment\",G=function(){function t(t,e,r){this.data=t,this.masterRef=t.refs.filter((function(t){return t.isMasterRef}))[0],this.experiments=new u(t.experiments),this.bookmarks=t.bookmarks,this.httpClient=e,this.options=r,this.refs=t.refs,this.tags=t.tags,this.types=t.types,this.languages=t.languages}return t.prototype.form=function(t){var e=this.data.forms[t];return e?new f(e,this.httpClient):null},t.prototype.everything=function(){var t=this.form(\"everything\");if(!t)throw new Error(\"Missing everything form\");return t},t.prototype.master=function(){return this.masterRef.ref},t.prototype.ref=function(t){var e=this.data.refs.filter((function(e){return e.label===t}))[0];return e?e.ref:null},t.prototype.currentExperiment=function(){return this.experiments.current()},t.prototype.query=function(t,e,r){void 0===r&&(r=function(){});var n=\"function\"===typeof e?{options:{},callback:e}:{options:e||{},callback:r},o=n.options,i=n.callback,s=this.everything();for(var u in o)s=s.set(u,o[u]);if(!o.ref){var a=\"\";this.options.req?a=this.options.req.headers.cookie||\"\":\"undefined\"!==typeof window&&window.document&&(a=window.document.cookie||\"\");var f=Q.parse(a),h=f[J],c=this.experiments.refFromCookie(f[X]);s=s.ref(h||c||this.masterRef.ref)}return t&&s.query(t),s.submit(i)},t.prototype.queryFirst=function(t,e,r){var n=\"function\"===typeof e?{options:{},callback:e}:{options:e||{},callback:r||function(){}},o=n.options,i=n.callback;return o.page=1,o.pageSize=1,this.query(t,o).then((function(t){var e=t&&t.results&&t.results[0];return i(null,e),e})).catch((function(t){throw i(t),t}))},t.prototype.getByID=function(t,e,r){var n=e?o({},e):{};return n.lang||(n.lang=\"*\"),this.queryFirst(W.at(\"document.id\",t),n,r)},t.prototype.getByIDs=function(t,e,r){var n=e?o({},e):{};return n.lang||(n.lang=\"*\"),this.query(W.in(\"document.id\",t),n,r)},t.prototype.getByUID=function(t,e,r,n){var i=r?o({},r):{};if(\"*\"===i.lang)throw new Error(\"FORBIDDEN. You can't use getByUID with *, use the predicates instead.\");return i.page||(i.page=1),this.queryFirst(W.at(\"my.\"+t+\".uid\",e),i,n)},t.prototype.getSingle=function(t,e,r){var n=e?o({},e):{};return this.queryFirst(W.at(\"document.type\",t),n,r)},t.prototype.getBookmark=function(t,e,r){var n=this.data.bookmarks[t];return n?this.getByID(n,e,r):Promise.reject(\"Error retrieving bookmarked id\")},t.prototype.getPreviewResolver=function(t,e){return N(t,e,this.getByID.bind(this))},t}();function V(t){this.size=0,this.limit=t,this._keymap={}}V.prototype.put=function(t,e){var r={key:t,value:e};if(this._keymap[t]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return this.shift();this.size++},V.prototype.shift=function(){var t=this.head;return t&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,t.newer=t.older=void 0,delete this._keymap[t.key]),console.log(\"purging \",t.key),t},V.prototype.get=function(t,e){var r=this._keymap[t];if(void 0!==r)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),e?r:r.value},V.prototype.find=function(t){return this._keymap[t]},V.prototype.set=function(t,e){var r,n=this.get(t,!0);return n?(r=n.value,n.value=e):(r=this.put(t,e))&&(r=r.value),r},V.prototype.remove=function(t){var e=this._keymap[t];if(e)return delete this._keymap[e.key],e.newer&&e.older?(e.older.newer=e.newer,e.newer.older=e.older):e.newer?(e.newer.older=void 0,this.head=e.newer):e.older?(e.older.newer=void 0,this.tail=e.older):this.head=this.tail=void 0,this.size--,e.value},V.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},\"function\"===typeof Object.keys?V.prototype.keys=function(){return Object.keys(this._keymap)}:V.prototype.keys=function(){var t=[];for(var e in this._keymap)t.push(e);return t},V.prototype.forEach=function(t,e,r){var n;if(!0===e?(r=!0,e=void 0):\"object\"!==typeof e&&(e=this),r)for(n=this.tail;n;)t.call(e,n.key,n.value,this),n=n.older;else for(n=this.head;n;)t.call(e,n.key,n.value,this),n=n.newer},V.prototype.toString=function(){for(var t=\"\",e=this.head;e;)t+=String(e.key)+\":\"+e.value,(e=e.newer)&&(t+=\" < \");return t};var K=function(){function t(t){void 0===t&&(t=1e3),this.lru=function(t){return new V(t)}(t)}return t.prototype.isExpired=function(t){var e=this.lru.get(t,!1);return!!e&&(0!==e.expiredIn&&e.expiredIn<Date.now())},t.prototype.get=function(t,e){var r=this.lru.get(t,!1);r&&!this.isExpired(t)?e(null,r.data):e&&e(null)},t.prototype.set=function(t,e,r,n){this.lru.remove(t),this.lru.put(t,{data:e,expiredIn:r?Date.now()+1e3*r:0}),n&&n(null)},t.prototype.remove=function(t,e){this.lru.remove(t),e&&e(null)},t.prototype.clear=function(t){this.lru.removeAll(),t&&t(null)},t}();var Y=function(){function t(t){this.options=t||{}}return t.prototype.request=function(t,e){!function(t,e,r){var o,i={headers:{Accept:\"application/json\"}};e&&e.proxyAgent&&(i.agent=e.proxyAgent);var s=n(t,i);(e.timeoutInMs?Promise.race([s,new Promise((function(r,n){o=setTimeout((function(){return n(new Error(t+\" response timeout\"))}),e.timeoutInMs)}))]):s).then((function(e){return clearTimeout(o),~~(e.status/100!==2)?e.text().then((function(){var r=new Error(\"Unexpected status code [\"+e.status+\"] on URL \"+t);throw r.status=e.status,r})):e.json().then((function(t){var n=e.headers.get(\"cache-control\"),o=n?/max-age=(\\d+)/.exec(n):null,i=o?parseInt(o[1],10):void 0;r(null,t,e,i)}))})).catch((function(t){clearTimeout(o),r(t)}))}(t,this.options,e)},t}(),Z=function(){function t(t,e,r,n){this.requestHandler=t||new Y({proxyAgent:r,timeoutInMs:n}),this.cache=e||new K}return t.prototype.request=function(t,e){this.requestHandler.request(t,(function(t,r,n,o){t?e&&e(t,null,n,o):r&&e&&e(null,r,n,o)}))},t.prototype.cachedRequest=function(t,e){var r=this,n=e||{};return new Promise((function(e,o){!function(e){var o=n.cacheKey||t;r.cache.get(o,(function(i,s){i||s?e(i,s):r.request(t,(function(t,i,s,u){if(t)e(t,null);else{var a=u||n.ttl;a&&r.cache.set(o,i,a,e),e(null,i)}}))}))}((function(t,r){t&&o(t),r&&e(r)}))}))},t}();var $=function(){function t(t,e){this.options=e||{},this.url=t;var r=[this.options.accessToken&&\"access_token=\"+this.options.accessToken,this.options.routes&&\"routes=\"+encodeURIComponent(JSON.stringify(this.options.routes))].filter(Boolean);r.length>0&&(this.url+=function(t){return t.indexOf(\"?\")>-1?\"&\":\"?\"}(t)+r.join(\"&\")),this.apiDataTTL=this.options.apiDataTTL||5,this.httpClient=new Z(this.options.requestHandler,this.options.apiCache,this.options.proxyAgent,this.options.timeoutInMs)}return t.prototype.get=function(t){var e=this;return this.httpClient.cachedRequest(this.url,{ttl:this.apiDataTTL}).then((function(r){var n=new G(r,e.httpClient,e.options);return t&&t(null,n),n})).catch((function(e){throw t&&t(e),e}))},t}(),tt=function(){function t(t,e){this.api=new $(t,e)}return t.prototype.getApi=function(){return this.api.get()},t.prototype.everything=function(){return this.form(\"everything\")},t.prototype.form=function(t){return new a(t,this.api)},t.prototype.query=function(t,e,r){return this.getApi().then((function(n){return n.query(t,e,r)}))},t.prototype.queryFirst=function(t,e,r){return this.getApi().then((function(n){return n.queryFirst(t,e,r)}))},t.prototype.getByID=function(t,e,r){return this.getApi().then((function(n){return n.getByID(t,e,r)}))},t.prototype.getByIDs=function(t,e,r){return this.getApi().then((function(n){return n.getByIDs(t,e,r)}))},t.prototype.getByUID=function(t,e,r,n){return this.getApi().then((function(o){return o.getByUID(t,e,r,n)}))},t.prototype.getSingle=function(t,e,r){return this.getApi().then((function(n){return n.getSingle(t,e,r)}))},t.prototype.getBookmark=function(t,e,r){return this.getApi().then((function(n){return n.getBookmark(t,e,r)}))},t.prototype.getPreviewResolver=function(t,e){var r=this;return N(t,e,(function(t,e){return r.getApi().then((function(r){return r.getByID(t,e)}))}))},t.getApi=function(t,e){return new $(t,e).get()},t}(),et={experimentCookie:X,previewCookie:J,Predicates:W,predicates:W,Experiments:u,Api:$,client:function(t,e){return new tt(t,e)},getApi:rt,api:function(t,e){return rt(t,e)}};function rt(t,e){return tt.getApi(t,e)}e.a=et}}]);","map":{"version":3,"sources":["static/chunks/823c2f7faf50ce6cd2c5ab6c54d2218709c48e43.d2902bf7c9ffabf3da9f.js"],"names":["window","push","3HUT","module","__webpack_exports__","__webpack_require__","d","Client","_Volumes_Studio_Hard_Drive_Dev_loper_dryJohn_frontend_dryjohn_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_prismicio_client__WEBPACK_IMPORTED_MODULE_1__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","apiEndpoint","accessToken","req","undefined","client","createClientOptions","prismicAccessToken","reqOption","accessTokenOption","XWHH","exports","global","self","this","__self__","F","fetch","DOMException","prototype","support","Symbol","Blob","e","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","toString","call","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","next","shift","done","Headers","headers","map","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","get","type","rejected","Error","arrayBuffer","then","text","readAsText","readBlobAsText","chars","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","hasOwnProperty","callback","thisArg","values","entries","methods","Request","input","options","url","credentials","method","mode","signal","upcased","toUpperCase","normalizeMethod","referrer","form","trim","split","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","line","parts","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","message","stack","create","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","ponyfill","ctx","default","vQTQ","__webpack_module__","cross_fetch__WEBPACK_IMPORTED_MODULE_0__","__assign","assign","t","s","n","p","Variation","data","id","ref","label","Experiment","variations","v","googleId","Experiments","drafts","exp","running","current","refFromCookie","cookie","splitted","expId","varIndex","parseInt","LazySearchForm","api","fields","query","pageSize","size","graphQuery","lang","langCode","page","after","documentId","orderings","_this","toSearchForm","submit","cb","lazyForm","reduce","fieldKey","fieldValue","SearchForm","httpClient","field","fieldDesc","checkedValue","multiple","concat","action","sep","encodeURIComponent","cachedRequest","catch","OPERATOR","encode","Date","getTime","geopoint","near","fragment","latitude","longitude","radius","date","before","between","dayOfMonth","day","dayOfMonthAfter","dayOfMonthBefore","dayOfWeek","dayOfWeekAfter","dayOfWeekBefore","month","monthBefore","monthAfter","year","hour","hourBefore","hourAfter","number","gt","lt","inRange","Predicates","at","not","missing","any","in","fulltext","similar","maxResults","dateBefore","dateAfter","dateBetween","Cookies","str","opt","pairs","dec","pair","eq_idx","substr","val","tryDecode","createPreviewResolver","token","getDocByID","linkResolver","defaultUrl","document","PREVIEW_COOKIE","EXPERIMENT_COOKIE","ResolvedApi","masterRef","refs","isMasterRef","experiments","bookmarks","tags","types","languages","formId","forms","everything","f","master","currentExperiment","q","optionsOrCallback","_a","cookieString","cookies","previewRef","experimentRef","queryFirst","results","getByID","maybeOptions","getByIDs","ids","getByUID","uid","getSingle","getBookmark","bookmark","getPreviewResolver","bind","LRUCache","limit","_keymap","put","entry","tail","newer","older","head","console","log","returnEntry","find","oldvalue","remove","removeAll","k","fun","context","desc","DefaultApiCache","lru","MakeLRUCache","isExpired","expiredIn","now","ttl","clear","DefaultRequestHandler","timeoutId","fetchOptions","Accept","proxyAgent","agent","fetchPromise","timeoutInMs","race","_","setTimeout","resp","clearTimeout","cacheControl","parsedCacheControl","exec","fetchRequest","HttpClient","requestHandler","cache","cacheKey","cacheGetError","cacheGetValue","fetchError","fetchValue","ttlReq","run","Api","queryStrings","routes","stringify","Boolean","separator","apiDataTTL","apiCache","resolvedApi","DefaultClient","getApi","index","experimentCookie","previewCookie","predicates"],"mappings":"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"},"name":"static/chunks/823c2f7faf50ce6cd2c5ab6c54d2218709c48e43.d2902bf7c9ffabf3da9f.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[7],{\n\n/***/ \"3HUT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export apiEndpoint */\n/* unused harmony export accessToken */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Client; });\n/* unused harmony export linkResolver */\n/* harmony import */ var _Volumes_Studio_Hard_Drive_Dev_loper_dryJohn_frontend_dryjohn_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"rePB\");\n/* harmony import */ var _prismicio_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vQTQ\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Volumes_Studio_Hard_Drive_Dev_loper_dryJohn_frontend_dryjohn_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\nvar apiEndpoint = \"https://dry-john.cdn.prismic.io/api/v2\";\nvar accessToken = \"MC5ZRTlWNmhJQUFDWUFyQWM5.Te-_ve-_vTPvv73vv71OB--_ve-_ve-_vVPvv73vv71F77-977-9RX4777-977-977-977-977-9NO-_vUYaBgPvv70\"; // Client method to query documents from the Prismic repo\n\nvar Client = function Client() {\n  var req = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return _prismicio_client__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].client(apiEndpoint, createClientOptions(req, accessToken));\n};\n\nvar createClientOptions = function createClientOptions() {\n  var req = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var prismicAccessToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var reqOption = req ? {\n    req: req\n  } : {};\n  var accessTokenOption = prismicAccessToken ? {\n    accessToken: prismicAccessToken\n  } : {};\n  return _objectSpread(_objectSpread({}, reqOption), accessTokenOption);\n};\n\nvar linkResolver = function linkResolver(doc) {\n  if (doc.type === \"post\") {\n    return \"/post/\".concat(doc.uid);\n  }\n\n  return \"/\";\n};\n\n/***/ }),\n\n/***/ \"XWHH\":\n/***/ (function(module, exports) {\n\nvar global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n}({}));\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n\n\n/***/ }),\n\n/***/ \"vQTQ\":\n/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"XWHH\");\n\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar Variation = /** @class */ (function () {\r\n    function Variation(data) {\r\n        this.data = {};\r\n        this.data = data;\r\n    }\r\n    Variation.prototype.id = function () {\r\n        return this.data.id;\r\n    };\r\n    Variation.prototype.ref = function () {\r\n        return this.data.ref;\r\n    };\r\n    Variation.prototype.label = function () {\r\n        return this.data.label;\r\n    };\r\n    return Variation;\r\n}());\r\nvar Experiment = /** @class */ (function () {\r\n    function Experiment(data) {\r\n        this.data = {};\r\n        this.data = data;\r\n        this.variations = (data.variations || []).map(function (v) {\r\n            return new Variation(v);\r\n        });\r\n    }\r\n    Experiment.prototype.id = function () {\r\n        return this.data.id;\r\n    };\r\n    Experiment.prototype.googleId = function () {\r\n        return this.data.googleId;\r\n    };\r\n    Experiment.prototype.name = function () {\r\n        return this.data.name;\r\n    };\r\n    return Experiment;\r\n}());\r\nvar Experiments = /** @class */ (function () {\r\n    function Experiments(data) {\r\n        if (data) {\r\n            this.drafts = (data.drafts || []).map(function (exp) {\r\n                return new Experiment(exp);\r\n            });\r\n            this.running = (data.running || []).map(function (exp) {\r\n                return new Experiment(exp);\r\n            });\r\n        }\r\n    }\r\n    Experiments.prototype.current = function () {\r\n        if (this.running.length > 0) {\r\n            return this.running[0];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    Experiments.prototype.refFromCookie = function (cookie) {\r\n        if (!cookie || cookie.trim() === '')\r\n            return null;\r\n        var splitted = cookie.trim().split(' ');\r\n        if (splitted.length < 2)\r\n            return null;\r\n        var expId = splitted[0];\r\n        var varIndex = parseInt(splitted[1], 10);\r\n        var exp = this.running.filter(function (exp) {\r\n            return exp.googleId() === expId && exp.variations.length > varIndex;\r\n        })[0];\r\n        return exp ? exp.variations[varIndex].ref() : null;\r\n    };\r\n    return Experiments;\r\n}());\n\nvar LazySearchForm = /** @class */ (function () {\r\n    function LazySearchForm(id, api) {\r\n        this.id = id;\r\n        this.api = api;\r\n        this.fields = {};\r\n    }\r\n    LazySearchForm.prototype.set = function (key, value) {\r\n        this.fields[key] = value;\r\n        return this;\r\n    };\r\n    LazySearchForm.prototype.ref = function (ref) {\r\n        return this.set('ref', ref);\r\n    };\r\n    LazySearchForm.prototype.query = function (query) {\r\n        return this.set('q', query);\r\n    };\r\n    LazySearchForm.prototype.pageSize = function (size) {\r\n        return this.set('pageSize', size);\r\n    };\r\n    LazySearchForm.prototype.graphQuery = function (query) {\r\n        return this.set('graphQuery', query);\r\n    };\r\n    LazySearchForm.prototype.lang = function (langCode) {\r\n        return this.set('lang', langCode);\r\n    };\r\n    LazySearchForm.prototype.page = function (p) {\r\n        return this.set('page', p);\r\n    };\r\n    LazySearchForm.prototype.after = function (documentId) {\r\n        return this.set('after', documentId);\r\n    };\r\n    LazySearchForm.prototype.orderings = function (orderings) {\r\n        return this.set('orderings', orderings);\r\n    };\r\n    LazySearchForm.prototype.url = function () {\r\n        var _this = this;\r\n        return this.api.get().then(function (api) {\r\n            return LazySearchForm.toSearchForm(_this, api).url();\r\n        });\r\n    };\r\n    LazySearchForm.prototype.submit = function (cb) {\r\n        var _this = this;\r\n        return this.api.get().then(function (api) {\r\n            return LazySearchForm.toSearchForm(_this, api).submit(cb);\r\n        });\r\n    };\r\n    LazySearchForm.toSearchForm = function (lazyForm, api) {\r\n        var form = api.form(lazyForm.id);\r\n        if (form) {\r\n            return Object.keys(lazyForm.fields).reduce(function (form, fieldKey) {\r\n                var fieldValue = lazyForm.fields[fieldKey];\r\n                if (fieldKey === 'q') {\r\n                    return form.query(fieldValue);\r\n                }\r\n                else if (fieldKey === 'pageSize') {\r\n                    return form.pageSize(fieldValue);\r\n                }\r\n                else if (fieldKey === 'graphQuery') {\r\n                    return form.graphQuery(fieldValue);\r\n                }\r\n                else if (fieldKey === 'lang') {\r\n                    return form.lang(fieldValue);\r\n                }\r\n                else if (fieldKey === 'page') {\r\n                    return form.page(fieldValue);\r\n                }\r\n                else if (fieldKey === 'after') {\r\n                    return form.after(fieldValue);\r\n                }\r\n                else if (fieldKey === 'orderings') {\r\n                    return form.orderings(fieldValue);\r\n                }\r\n                else {\r\n                    return form.set(fieldKey, fieldValue);\r\n                }\r\n            }, form);\r\n        }\r\n        else {\r\n            throw new Error(\"Unable to access to form \" + lazyForm.id);\r\n        }\r\n    };\r\n    return LazySearchForm;\r\n}());\r\nvar SearchForm = /** @class */ (function () {\r\n    function SearchForm(form, httpClient) {\r\n        this.httpClient = httpClient;\r\n        this.form = form;\r\n        this.data = {};\r\n        for (var field in form.fields) {\r\n            if (form.fields[field]['default']) {\r\n                this.data[field] = [form.fields[field]['default']];\r\n            }\r\n        }\r\n    }\r\n    SearchForm.prototype.set = function (field, value) {\r\n        var fieldDesc = this.form.fields[field];\r\n        if (!fieldDesc)\r\n            throw new Error('Unknown field ' + field);\r\n        var checkedValue = value === '' || value === undefined ? null : value;\r\n        var values = this.data[field] || [];\r\n        if (fieldDesc.multiple) {\r\n            values = checkedValue ? values.concat([checkedValue]) : values;\r\n        }\r\n        else {\r\n            values = checkedValue ? [checkedValue] : values;\r\n        }\r\n        this.data[field] = values;\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets a ref to query on for this SearchForm. This is a mandatory\r\n     * method to call before calling submit(), and api.form('everything').submit()\r\n     * will not work.\r\n     */\r\n    SearchForm.prototype.ref = function (ref) {\r\n        return this.set('ref', ref);\r\n    };\r\n    /**\r\n     * Sets a predicate-based query for this SearchForm. This is where you\r\n     * paste what you compose in your prismic.io API browser.\r\n     */\r\n    SearchForm.prototype.query = function (query) {\r\n        if (typeof query === 'string') {\r\n            return this.query([query]);\r\n        }\r\n        else if (Array.isArray(query)) {\r\n            return this.set('q', \"[\" + query.join('') + \"]\");\r\n        }\r\n        else {\r\n            throw new Error(\"Invalid query : \" + query);\r\n        }\r\n    };\r\n    /**\r\n     * Sets a page size to query for this SearchForm. This is an optional method.\r\n     *\r\n     * @param {number} size - The page size\r\n     * @returns {SearchForm} - The SearchForm itself\r\n     */\r\n    SearchForm.prototype.pageSize = function (size) {\r\n        return this.set('pageSize', size);\r\n    };\r\n    /**\r\n     * Sets the graphquery to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.graphQuery = function (query) {\r\n        return this.set('graphQuery', query);\r\n    };\r\n    /**\r\n     * Sets the language to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.lang = function (langCode) {\r\n        return this.set('lang', langCode);\r\n    };\r\n    /**\r\n     * Sets the page number to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.page = function (p) {\r\n        return this.set('page', p);\r\n    };\r\n    /**\r\n     * Remove all the documents except for those after the specified document in the list. This is an optional method.\r\n     */\r\n    SearchForm.prototype.after = function (documentId) {\r\n        return this.set('after', documentId);\r\n    };\r\n    /**\r\n     * Sets the orderings to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.orderings = function (orderings) {\r\n        if (!orderings) {\r\n            return this;\r\n        }\r\n        else {\r\n            return this.set('orderings', \"[\" + orderings.join(',') + \"]\");\r\n        }\r\n    };\r\n    /**\r\n     * Build the URL to query\r\n     */\r\n    SearchForm.prototype.url = function () {\r\n        var url = this.form.action;\r\n        if (this.data) {\r\n            var sep = (url.indexOf('?') > -1 ? '&' : '?');\r\n            for (var key in this.data) {\r\n                if (Object.prototype.hasOwnProperty.call(this.data, key)) {\r\n                    var values = this.data[key];\r\n                    if (values) {\r\n                        for (var i = 0; i < values.length; i++) {\r\n                            url += sep + key + '=' + encodeURIComponent(values[i]);\r\n                            sep = '&';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return url;\r\n    };\r\n    /**\r\n     * Submits the query, and calls the callback function.\r\n     */\r\n    SearchForm.prototype.submit = function (cb) {\r\n        return this.httpClient.cachedRequest(this.url()).then(function (response) {\r\n            cb && cb(null, response);\r\n            return response;\r\n        }).catch(function (error) {\r\n            cb && cb(error);\r\n            throw error;\r\n        });\r\n    };\r\n    return SearchForm;\r\n}());\n\nvar OPERATOR = {\r\n    at: 'at',\r\n    not: 'not',\r\n    missing: 'missing',\r\n    has: 'has',\r\n    any: 'any',\r\n    in: 'in',\r\n    fulltext: 'fulltext',\r\n    similar: 'similar',\r\n    numberGt: 'number.gt',\r\n    numberLt: 'number.lt',\r\n    numberInRange: 'number.inRange',\r\n    dateBefore: 'date.before',\r\n    dateAfter: 'date.after',\r\n    dateBetween: 'date.between',\r\n    dateDayOfMonth: 'date.day-of-month',\r\n    dateDayOfMonthAfter: 'date.day-of-month-after',\r\n    dateDayOfMonthBefore: 'date.day-of-month-before',\r\n    dateDayOfWeek: 'date.day-of-week',\r\n    dateDayOfWeekAfter: 'date.day-of-week-after',\r\n    dateDayOfWeekBefore: 'date.day-of-week-before',\r\n    dateMonth: 'date.month',\r\n    dateMonthBefore: 'date.month-before',\r\n    dateMonthAfter: 'date.month-after',\r\n    dateYear: 'date.year',\r\n    dateHour: 'date.hour',\r\n    dateHourBefore: 'date.hour-before',\r\n    dateHourAfter: 'date.hour-after',\r\n    GeopointNear: 'geopoint.near',\r\n};\r\nfunction encode(value) {\r\n    if (typeof value === 'string') {\r\n        return \"\\\"\" + value + \"\\\"\";\r\n    }\r\n    else if (typeof value === 'number') {\r\n        return value.toString();\r\n    }\r\n    else if (value instanceof Date) {\r\n        return value.getTime().toString();\r\n    }\r\n    else if (Array.isArray(value)) {\r\n        return \"[\" + value.map(function (v) { return encode(v); }).join(',') + \"]\";\r\n    }\r\n    else if (typeof value === \"boolean\") {\r\n        return value.toString();\r\n    }\r\n    else {\r\n        throw new Error(\"Unable to encode \" + value + \" of type \" + typeof value);\r\n    }\r\n}\r\nvar geopoint = {\r\n    near: function (fragment, latitude, longitude, radius) {\r\n        return \"[\" + OPERATOR.GeopointNear + \"(\" + fragment + \", \" + latitude + \", \" + longitude + \", \" + radius + \")]\";\r\n    },\r\n};\r\nvar date = {\r\n    before: function (fragment, before) {\r\n        return \"[\" + OPERATOR.dateBefore + \"(\" + fragment + \", \" + encode(before) + \")]\";\r\n    },\r\n    after: function (fragment, after) {\r\n        return \"[\" + OPERATOR.dateAfter + \"(\" + fragment + \", \" + encode(after) + \")]\";\r\n    },\r\n    between: function (fragment, before, after) {\r\n        return \"[\" + OPERATOR.dateBetween + \"(\" + fragment + \", \" + encode(before) + \", \" + encode(after) + \")]\";\r\n    },\r\n    dayOfMonth: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfMonth + \"(\" + fragment + \", \" + day + \")]\";\r\n    },\r\n    dayOfMonthAfter: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfMonthAfter + \"(\" + fragment + \", \" + day + \")]\";\r\n    },\r\n    dayOfMonthBefore: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfMonthBefore + \"(\" + fragment + \", \" + day + \")]\";\r\n    },\r\n    dayOfWeek: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfWeek + \"(\" + fragment + \", \" + encode(day) + \")]\";\r\n    },\r\n    dayOfWeekAfter: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfWeekAfter + \"(\" + fragment + \", \" + encode(day) + \")]\";\r\n    },\r\n    dayOfWeekBefore: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfWeekBefore + \"(\" + fragment + \", \" + encode(day) + \")]\";\r\n    },\r\n    month: function (fragment, month) {\r\n        return \"[\" + OPERATOR.dateMonth + \"(\" + fragment + \", \" + encode(month) + \")]\";\r\n    },\r\n    monthBefore: function (fragment, month) {\r\n        return \"[\" + OPERATOR.dateMonthBefore + \"(\" + fragment + \", \" + encode(month) + \")]\";\r\n    },\r\n    monthAfter: function (fragment, month) {\r\n        return \"[\" + OPERATOR.dateMonthAfter + \"(\" + fragment + \", \" + encode(month) + \")]\";\r\n    },\r\n    year: function (fragment, year) {\r\n        return \"[\" + OPERATOR.dateYear + \"(\" + fragment + \", \" + year + \")]\";\r\n    },\r\n    hour: function (fragment, hour) {\r\n        return \"[\" + OPERATOR.dateHour + \"(\" + fragment + \", \" + hour + \")]\";\r\n    },\r\n    hourBefore: function (fragment, hour) {\r\n        return \"[\" + OPERATOR.dateHourBefore + \"(\" + fragment + \", \" + hour + \")]\";\r\n    },\r\n    hourAfter: function (fragment, hour) {\r\n        return \"[\" + OPERATOR.dateHourAfter + \"(\" + fragment + \", \" + hour + \")]\";\r\n    },\r\n};\r\nvar number = {\r\n    gt: function (fragment, value) {\r\n        return \"[\" + OPERATOR.numberGt + \"(\" + fragment + \", \" + value + \")]\";\r\n    },\r\n    lt: function (fragment, value) {\r\n        return \"[\" + OPERATOR.numberLt + \"(\" + fragment + \", \" + value + \")]\";\r\n    },\r\n    inRange: function (fragment, before, after) {\r\n        return \"[\" + OPERATOR.numberInRange + \"(\" + fragment + \", \" + before + \", \" + after + \")]\";\r\n    },\r\n};\r\nvar Predicates = {\r\n    at: function (fragment, value) {\r\n        return \"[\" + OPERATOR.at + \"(\" + fragment + \", \" + encode(value) + \")]\";\r\n    },\r\n    not: function (fragment, value) {\r\n        return \"[\" + OPERATOR.not + \"(\" + fragment + \", \" + encode(value) + \")]\";\r\n    },\r\n    missing: function (fragment) {\r\n        return \"[\" + OPERATOR.missing + \"(\" + fragment + \")]\";\r\n    },\r\n    has: function (fragment) {\r\n        return \"[\" + OPERATOR.has + \"(\" + fragment + \")]\";\r\n    },\r\n    any: function (fragment, values) {\r\n        return \"[\" + OPERATOR.any + \"(\" + fragment + \", \" + encode(values) + \")]\";\r\n    },\r\n    in: function (fragment, values) {\r\n        return \"[\" + OPERATOR.in + \"(\" + fragment + \", \" + encode(values) + \")]\";\r\n    },\r\n    fulltext: function (fragment, value) {\r\n        return \"[\" + OPERATOR.fulltext + \"(\" + fragment + \", \" + encode(value) + \")]\";\r\n    },\r\n    similar: function (documentId, maxResults) {\r\n        return \"[\" + OPERATOR.similar + \"(\\\"\" + documentId + \"\\\", \" + maxResults + \")]\";\r\n    },\r\n    date: date,\r\n    dateBefore: date.before,\r\n    dateAfter: date.after,\r\n    dateBetween: date.between,\r\n    dayOfMonth: date.dayOfMonth,\r\n    dayOfMonthAfter: date.dayOfMonthAfter,\r\n    dayOfMonthBefore: date.dayOfMonthBefore,\r\n    dayOfWeek: date.dayOfWeek,\r\n    dayOfWeekAfter: date.dayOfWeekAfter,\r\n    dayOfWeekBefore: date.dayOfWeekBefore,\r\n    month: date.month,\r\n    monthBefore: date.monthBefore,\r\n    monthAfter: date.monthAfter,\r\n    year: date.year,\r\n    hour: date.hour,\r\n    hourBefore: date.hourBefore,\r\n    hourAfter: date.hourAfter,\r\n    number: number,\r\n    gt: number.gt,\r\n    lt: number.lt,\r\n    inRange: number.inRange,\r\n    near: geopoint.near,\r\n    geopoint: geopoint,\r\n};\n\n/* eslint-disable */\r\n// Some portions of code from https://github.com/jshttp/cookie\r\nvar decode = decodeURIComponent;\r\nfunction tryDecode(str, decode) {\r\n    try {\r\n        return decode(str);\r\n    }\r\n    catch (e) {\r\n        return str;\r\n    }\r\n}\r\nfunction parse(str, options) {\r\n    if (typeof str !== 'string') {\r\n        throw new TypeError('argument str must be a string');\r\n    }\r\n    var obj = {};\r\n    var opt = options || {};\r\n    var pairs = str.split(/; */);\r\n    var dec = opt.decode || decode;\r\n    pairs.forEach(function (pair) {\r\n        var eq_idx = pair.indexOf('=');\r\n        // skip things that don't look like key=value\r\n        if (eq_idx < 0) {\r\n            return;\r\n        }\r\n        var key = pair.substr(0, eq_idx).trim();\r\n        var val = pair.substr(++eq_idx, pair.length).trim();\r\n        // quoted values\r\n        if ('\"' == val[0]) {\r\n            val = val.slice(1, -1);\r\n        }\r\n        // only assign once\r\n        if (undefined == obj[key]) {\r\n            obj[key] = tryDecode(val, dec);\r\n        }\r\n    });\r\n    return obj;\r\n}\r\nvar Cookies = { parse: parse };\n\nfunction createPreviewResolver(token, documentId, getDocByID) {\r\n    var resolve = function (linkResolver, defaultUrl, cb) {\r\n        if (documentId && getDocByID) {\r\n            return getDocByID(documentId, { ref: token }).then(function (document) {\r\n                if (!document) {\r\n                    cb && cb(null, defaultUrl);\r\n                    return defaultUrl;\r\n                }\r\n                else {\r\n                    var url = (linkResolver && linkResolver(document)) || document.url || defaultUrl;\r\n                    cb && cb(null, url);\r\n                    return url;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(defaultUrl);\r\n        }\r\n    };\r\n    return { token: token, documentId: documentId, resolve: resolve };\r\n}\n\nvar PREVIEW_COOKIE = 'io.prismic.preview';\r\nvar EXPERIMENT_COOKIE = 'io.prismic.experiment';\r\nvar ResolvedApi = /** @class */ (function () {\r\n    function ResolvedApi(data, httpClient, options) {\r\n        this.data = data;\r\n        this.masterRef = data.refs.filter(function (ref) { return ref.isMasterRef; })[0];\r\n        this.experiments = new Experiments(data.experiments);\r\n        this.bookmarks = data.bookmarks;\r\n        this.httpClient = httpClient;\r\n        this.options = options;\r\n        this.refs = data.refs;\r\n        this.tags = data.tags;\r\n        this.types = data.types;\r\n        this.languages = data.languages;\r\n    }\r\n    /**\r\n     * Returns a useable form from its id, as described in the RESTful description of the API.\r\n     * For instance: api.form(\"everything\") works on every repository (as \"everything\" exists by default)\r\n     * You can then chain the calls: api.form(\"everything\").query('[[:d = at(document.id, \"UkL0gMuvzYUANCpf\")]]').ref(ref).submit()\r\n     */\r\n    ResolvedApi.prototype.form = function (formId) {\r\n        var form = this.data.forms[formId];\r\n        if (form) {\r\n            return new SearchForm(form, this.httpClient);\r\n        }\r\n        return null;\r\n    };\r\n    ResolvedApi.prototype.everything = function () {\r\n        var f = this.form('everything');\r\n        if (!f)\r\n            throw new Error('Missing everything form');\r\n        return f;\r\n    };\r\n    /**\r\n     * The ID of the master ref on this prismic.io API.\r\n     * Do not use like this: searchForm.ref(api.master()).\r\n     * Instead, set your ref once in a variable, and call it when you need it; this will allow to change the ref you're viewing easily for your entire page.\r\n     */\r\n    ResolvedApi.prototype.master = function () {\r\n        return this.masterRef.ref;\r\n    };\r\n    /**\r\n     * Returns the ref ID for a given ref's label.\r\n     * Do not use like this: searchForm.ref(api.ref(\"Future release label\")).\r\n     * Instead, set your ref once in a variable, and call it when you need it; this will allow to change the ref you're viewing easily for your entire page.\r\n     */\r\n    ResolvedApi.prototype.ref = function (label) {\r\n        var ref = this.data.refs.filter(function (ref) { return ref.label === label; })[0];\r\n        return ref ? ref.ref : null;\r\n    };\r\n    ResolvedApi.prototype.currentExperiment = function () {\r\n        return this.experiments.current();\r\n    };\r\n    /**\r\n     * Query the repository\r\n     */\r\n    ResolvedApi.prototype.query = function (q, optionsOrCallback, cb) {\r\n        if (cb === void 0) { cb = function () { }; }\r\n        var _a = typeof optionsOrCallback === 'function'\r\n            ? { options: {}, callback: optionsOrCallback }\r\n            : { options: optionsOrCallback || {}, callback: cb }, options = _a.options, callback = _a.callback;\r\n        var form = this.everything();\r\n        for (var key in options) {\r\n            form = form.set(key, options[key]);\r\n        }\r\n        if (!options.ref) {\r\n            // Look in cookies if we have a ref (preview or experiment)\r\n            var cookieString = '';\r\n            if (this.options.req) { // NodeJS\r\n                cookieString = this.options.req.headers['cookie'] || '';\r\n            }\r\n            else if (typeof window !== 'undefined' && window.document) { // Browser\r\n                cookieString = window.document.cookie || '';\r\n            }\r\n            var cookies = Cookies.parse(cookieString);\r\n            var previewRef = cookies[PREVIEW_COOKIE];\r\n            var experimentRef = this.experiments.refFromCookie(cookies[EXPERIMENT_COOKIE]);\r\n            form = form.ref(previewRef || experimentRef || this.masterRef.ref);\r\n        }\r\n        if (q) {\r\n            form.query(q);\r\n        }\r\n        return form.submit(callback);\r\n    };\r\n    /**\r\n     * Retrieve the document returned by the given query\r\n     * @param {string|array|Predicate} the query\r\n     * @param {object} additional parameters. In NodeJS, pass the request as 'req'.\r\n     * @param {function} callback(err, doc)\r\n     */\r\n    ResolvedApi.prototype.queryFirst = function (q, optionsOrCallback, cb) {\r\n        var _a = typeof optionsOrCallback === 'function'\r\n            ? { options: {}, callback: optionsOrCallback }\r\n            : { options: optionsOrCallback || {}, callback: cb || (function () { }) }, options = _a.options, callback = _a.callback;\r\n        options.page = 1;\r\n        options.pageSize = 1;\r\n        return this.query(q, options).then(function (response) {\r\n            var document = response && response.results && response.results[0];\r\n            callback(null, document);\r\n            return document;\r\n        }).catch(function (error) {\r\n            callback(error);\r\n            throw error;\r\n        });\r\n    };\r\n    /**\r\n     * Retrieve the document with the given id\r\n     */\r\n    ResolvedApi.prototype.getByID = function (id, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        if (!options.lang)\r\n            options.lang = '*';\r\n        return this.queryFirst(Predicates.at('document.id', id), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve multiple documents from an array of id\r\n     */\r\n    ResolvedApi.prototype.getByIDs = function (ids, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        if (!options.lang)\r\n            options.lang = '*';\r\n        return this.query(Predicates.in('document.id', ids), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve the document with the given uid\r\n     */\r\n    ResolvedApi.prototype.getByUID = function (type, uid, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        if (options.lang === '*')\r\n            throw new Error(\"FORBIDDEN. You can't use getByUID with *, use the predicates instead.\");\r\n        if (!options.page)\r\n            options.page = 1;\r\n        return this.queryFirst(Predicates.at(\"my.\" + type + \".uid\", uid), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve the singleton document with the given type\r\n     */\r\n    ResolvedApi.prototype.getSingle = function (type, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        return this.queryFirst(Predicates.at('document.type', type), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve the document with the given bookmark\r\n     */\r\n    ResolvedApi.prototype.getBookmark = function (bookmark, maybeOptions, cb) {\r\n        var id = this.data.bookmarks[bookmark];\r\n        if (id) {\r\n            return this.getByID(id, maybeOptions, cb);\r\n        }\r\n        else {\r\n            return Promise.reject('Error retrieving bookmarked id');\r\n        }\r\n    };\r\n    ResolvedApi.prototype.getPreviewResolver = function (token, documentId) {\r\n        return createPreviewResolver(token, documentId, this.getByID.bind(this));\r\n    };\r\n    return ResolvedApi;\r\n}());\n\n/* eslint-disable */\r\n/**\r\n* A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\r\n* recently used items while discarding least recently used items when its limit\r\n* is reached.\r\n*\r\n* Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\r\n* Typescript-ified by Oleksandr Nikitin <https://tvori.info>\r\n*\r\n* Illustration of the design:\r\n*\r\n*       entry             entry             entry             entry\r\n*       ______            ______            ______            ______\r\n*      | head |.newer => |      |.newer => |      |.newer => | tail |\r\n*      |  A   |          |  B   |          |  C   |          |  D   |\r\n*      |______| <= older.|______| <= older.|______| <= older.|______|\r\n*\r\n*  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\r\n*/\r\nfunction MakeLRUCache(limit) {\r\n    return new LRUCache(limit);\r\n}\r\nfunction LRUCache(limit) {\r\n    // Current size of the cache. (Read-only).\r\n    this.size = 0;\r\n    // Maximum number of items this cache can hold.\r\n    this.limit = limit;\r\n    this._keymap = {};\r\n}\r\n/**\r\n * Put <value> into the cache associated with <key>. Returns the entry which was\r\n * removed to make room for the new entry. Otherwise undefined is returned\r\n * (i.e. if there was enough room already).\r\n */\r\nLRUCache.prototype.put = function (key, value) {\r\n    var entry = { key: key, value: value };\r\n    // Note: No protection agains replacing, and thus orphan entries. By design.\r\n    this._keymap[key] = entry;\r\n    if (this.tail) {\r\n        // link previous tail to the new tail (entry)\r\n        this.tail.newer = entry;\r\n        entry.older = this.tail;\r\n    }\r\n    else {\r\n        // we're first in -- yay\r\n        this.head = entry;\r\n    }\r\n    // add new entry to the end of the linked list -- it's now the freshest entry.\r\n    this.tail = entry;\r\n    if (this.size === this.limit) {\r\n        // we hit the limit -- remove the head\r\n        return this.shift();\r\n    }\r\n    else {\r\n        // increase the size counter\r\n        this.size++;\r\n    }\r\n};\r\n/**\r\n * Purge the least recently used (oldest) entry from the cache. Returns the\r\n * removed entry or undefined if the cache was empty.\r\n *\r\n * If you need to perform any form of finalization of purged items, this is a\r\n * good place to do it. Simply override/replace this function:\r\n *\r\n *   var c = new LRUCache(123);\r\n *   c.shift = function() {\r\n *     var entry = LRUCache.prototype.shift.call(this);\r\n *     doSomethingWith(entry);\r\n *     return entry;\r\n *   }\r\n */\r\nLRUCache.prototype.shift = function () {\r\n    // todo: handle special case when limit == 1\r\n    var entry = this.head;\r\n    if (entry) {\r\n        if (this.head.newer) {\r\n            this.head = this.head.newer;\r\n            this.head.older = undefined;\r\n        }\r\n        else {\r\n            this.head = undefined;\r\n        }\r\n        // Remove last strong reference to <entry> and remove links from the purged\r\n        // entry being returned:\r\n        entry.newer = entry.older = undefined;\r\n        // delete is slow, but we need to do this to avoid uncontrollable growth:\r\n        delete this._keymap[entry.key];\r\n    }\r\n    console.log('purging ', entry.key);\r\n    return entry;\r\n};\r\n/**\r\n * Get and register recent use of <key>. Returns the value associated with <key>\r\n * or undefined if not in cache.\r\n */\r\nLRUCache.prototype.get = function (key, returnEntry) {\r\n    // First, find our cache entry\r\n    var entry = this._keymap[key];\r\n    if (entry === undefined)\r\n        return; // Not cached. Sorry.\r\n    // As <key> was found in the cache, register it as being requested recently\r\n    if (entry === this.tail) {\r\n        // Already the most recently used entry, so no need to update the list\r\n        return returnEntry ? entry : entry.value;\r\n    }\r\n    // HEAD--------------TAIL\r\n    //   <.older   .newer>\r\n    //  <--- add direction --\r\n    //   A  B  C  <D>  E\r\n    if (entry.newer) {\r\n        if (entry === this.head)\r\n            this.head = entry.newer;\r\n        entry.newer.older = entry.older; // C <-- E.\r\n    }\r\n    if (entry.older)\r\n        entry.older.newer = entry.newer; // C. --> E\r\n    entry.newer = undefined; // D --x\r\n    entry.older = this.tail; // D. --> E\r\n    if (this.tail)\r\n        this.tail.newer = entry; // E. <-- D\r\n    this.tail = entry;\r\n    return returnEntry ? entry : entry.value;\r\n};\r\n// ----------------------------------------------------------------------------\r\n// Following code is optional and can be removed without breaking the core\r\n// functionality.\r\n/**\r\n * Check if <key> is in the cache without registering recent use. Feasible if\r\n * you do not want to chage the state of the cache, but only \"peek\" at it.\r\n * Returns the entry associated with <key> if found, or undefined if not found.\r\n */\r\nLRUCache.prototype.find = function (key) {\r\n    return this._keymap[key];\r\n};\r\n/**\r\n * Update the value of entry with <key>. Returns the old value, or undefined if\r\n * entry was not in the cache.\r\n */\r\nLRUCache.prototype.set = function (key, value) {\r\n    var oldvalue;\r\n    var entry = this.get(key, true);\r\n    if (entry) {\r\n        oldvalue = entry.value;\r\n        entry.value = value;\r\n    }\r\n    else {\r\n        oldvalue = this.put(key, value);\r\n        if (oldvalue)\r\n            oldvalue = oldvalue.value;\r\n    }\r\n    return oldvalue;\r\n};\r\n/**\r\n * Remove entry <key> from cache and return its value. Returns undefined if not\r\n * found.\r\n */\r\nLRUCache.prototype.remove = function (key) {\r\n    var entry = this._keymap[key];\r\n    if (!entry)\r\n        return;\r\n    delete this._keymap[entry.key]; // need to do delete unfortunately\r\n    if (entry.newer && entry.older) {\r\n        // relink the older entry with the newer entry\r\n        entry.older.newer = entry.newer;\r\n        entry.newer.older = entry.older;\r\n    }\r\n    else if (entry.newer) {\r\n        // remove the link to us\r\n        entry.newer.older = undefined;\r\n        // link the newer entry to head\r\n        this.head = entry.newer;\r\n    }\r\n    else if (entry.older) {\r\n        // remove the link to us\r\n        entry.older.newer = undefined;\r\n        // link the newer entry to head\r\n        this.tail = entry.older;\r\n    }\r\n    else { // if(entry.older === undefined && entry.newer === undefined) {\r\n        this.head = this.tail = undefined;\r\n    }\r\n    this.size--;\r\n    return entry.value;\r\n};\r\n/** Removes all entries */\r\nLRUCache.prototype.removeAll = function () {\r\n    // This should be safe, as we never expose strong refrences to the outside\r\n    this.head = this.tail = undefined;\r\n    this.size = 0;\r\n    this._keymap = {};\r\n};\r\n/**\r\n * Return an array containing all keys of entries stored in the cache object, in\r\n * arbitrary order.\r\n */\r\nif (typeof Object.keys === 'function') {\r\n    LRUCache.prototype.keys = function () { return Object.keys(this._keymap); };\r\n}\r\nelse {\r\n    LRUCache.prototype.keys = function () {\r\n        var keys = [];\r\n        for (var k in this._keymap)\r\n            keys.push(k);\r\n        return keys;\r\n    };\r\n}\r\n/**\r\n * Call `fun` for each entry. Starting with the newest entry if `desc` is a true\r\n * value, otherwise starts with the oldest (head) enrty and moves towards the\r\n * tail.\r\n *\r\n * `fun` is called with 3 arguments in the context `context`:\r\n *   `fun.call(context, Object key, Object value, LRUCache self)`\r\n */\r\nLRUCache.prototype.forEach = function (fun, context, desc) {\r\n    var entry;\r\n    if (context === true) {\r\n        desc = true;\r\n        context = undefined;\r\n    }\r\n    else if (typeof context !== 'object')\r\n        context = this;\r\n    if (desc) {\r\n        entry = this.tail;\r\n        while (entry) {\r\n            fun.call(context, entry.key, entry.value, this);\r\n            entry = entry.older;\r\n        }\r\n    }\r\n    else {\r\n        entry = this.head;\r\n        while (entry) {\r\n            fun.call(context, entry.key, entry.value, this);\r\n            entry = entry.newer;\r\n        }\r\n    }\r\n};\r\n/** Returns a JSON (array) representation */\r\n//LRUCache.prototype.toJSON = function () {\r\n//    var s: IEntry[] = [], entry = this.head;\r\n//    while (entry) {\r\n//        s.push({ key: entry.key.toJSON(), value: entry.value.toJSON() });\r\n//        entry = entry.newer;\r\n//    }\r\n//    return s;\r\n//};\r\n/** Returns a String representation */\r\nLRUCache.prototype.toString = function () {\r\n    var s = '', entry = this.head;\r\n    while (entry) {\r\n        s += String(entry.key) + ':' + entry.value;\r\n        entry = entry.newer;\r\n        if (entry)\r\n            s += ' < ';\r\n    }\r\n    return s;\r\n};\r\n// Export ourselves\r\n//if (typeof this === 'object') this.LRUCache = LRUCache;\n\nvar DefaultApiCache = /** @class */ (function () {\r\n    function DefaultApiCache(limit) {\r\n        if (limit === void 0) { limit = 1000; }\r\n        this.lru = MakeLRUCache(limit);\r\n    }\r\n    DefaultApiCache.prototype.isExpired = function (key) {\r\n        var value = this.lru.get(key, false);\r\n        if (value) {\r\n            return value.expiredIn !== 0 && value.expiredIn < Date.now();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    DefaultApiCache.prototype.get = function (key, cb) {\r\n        var value = this.lru.get(key, false);\r\n        if (value && !this.isExpired(key)) {\r\n            cb(null, value.data);\r\n        }\r\n        else {\r\n            cb && cb(null);\r\n        }\r\n    };\r\n    DefaultApiCache.prototype.set = function (key, value, ttl, cb) {\r\n        this.lru.remove(key);\r\n        this.lru.put(key, {\r\n            data: value,\r\n            expiredIn: ttl ? (Date.now() + (ttl * 1000)) : 0,\r\n        });\r\n        cb && cb(null);\r\n    };\r\n    DefaultApiCache.prototype.remove = function (key, cb) {\r\n        this.lru.remove(key);\r\n        cb && cb(null);\r\n    };\r\n    DefaultApiCache.prototype.clear = function (cb) {\r\n        this.lru.removeAll();\r\n        cb && cb(null);\r\n    };\r\n    return DefaultApiCache;\r\n}());\n\nfunction fetchRequest(url, options, callback) {\r\n    var fetchOptions = {\r\n        headers: {\r\n            Accept: 'application/json',\r\n        },\r\n    };\r\n    if (options && options.proxyAgent) {\r\n        fetchOptions.agent = options.proxyAgent;\r\n    }\r\n    // can't use number because of NodeJS globals included\r\n    var timeoutId;\r\n    var fetchPromise = cross_fetch__WEBPACK_IMPORTED_MODULE_0__(url, fetchOptions);\r\n    var promise = options.timeoutInMs ? Promise.race([\r\n        fetchPromise,\r\n        new Promise(function (_, reject) {\r\n            timeoutId = setTimeout(function () { return reject(new Error(url + \" response timeout\")); }, options.timeoutInMs);\r\n        })\r\n    ]) : fetchPromise;\r\n    promise.then(function (resp) {\r\n        clearTimeout(timeoutId);\r\n        if (~~(resp.status / 100 !== 2)) {\r\n            /**\r\n             * @description\r\n             * drain the resp before throwing an error to prevent memory leaks\r\n             * @link https://github.com/bitinn/node-fetch/issues/83\r\n             */\r\n            return resp.text().then(function () {\r\n                var e = new Error(\"Unexpected status code [\" + resp.status + \"] on URL \" + url);\r\n                e.status = resp.status;\r\n                throw e;\r\n            });\r\n        }\r\n        return resp.json().then(function (result) {\r\n            var cacheControl = resp.headers.get('cache-control');\r\n            var parsedCacheControl = cacheControl ? /max-age=(\\d+)/.exec(cacheControl) : null;\r\n            var ttl = parsedCacheControl ? parseInt(parsedCacheControl[1], 10) : undefined;\r\n            callback(null, result, resp, ttl);\r\n        });\r\n    }).catch(function (err) {\r\n        clearTimeout(timeoutId);\r\n        callback(err);\r\n    });\r\n}\r\nvar DefaultRequestHandler = /** @class */ (function () {\r\n    function DefaultRequestHandler(options) {\r\n        this.options = options || {};\r\n    }\r\n    DefaultRequestHandler.prototype.request = function (url, callback) {\r\n        fetchRequest(url, this.options, callback);\r\n    };\r\n    return DefaultRequestHandler;\r\n}());\n\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient(requestHandler, cache, proxyAgent, timeoutInMs) {\r\n        this.requestHandler = requestHandler || new DefaultRequestHandler({ proxyAgent: proxyAgent, timeoutInMs: timeoutInMs });\r\n        this.cache = cache || new DefaultApiCache();\r\n    }\r\n    HttpClient.prototype.request = function (url, callback) {\r\n        this.requestHandler.request(url, function (err, result, xhr, ttl) {\r\n            if (err) {\r\n                callback && callback(err, null, xhr, ttl);\r\n            }\r\n            else if (result) {\r\n                callback && callback(null, result, xhr, ttl);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetch a URL corresponding to a query, and parse the response as a Response object\r\n     */\r\n    HttpClient.prototype.cachedRequest = function (url, maybeOptions) {\r\n        var _this = this;\r\n        var options = maybeOptions || {};\r\n        var run = function (cb) {\r\n            var cacheKey = options.cacheKey || url;\r\n            _this.cache.get(cacheKey, function (cacheGetError, cacheGetValue) {\r\n                if (cacheGetError || cacheGetValue) {\r\n                    cb(cacheGetError, cacheGetValue);\r\n                }\r\n                else {\r\n                    _this.request(url, function (fetchError, fetchValue, _, ttlReq) {\r\n                        if (fetchError) {\r\n                            cb(fetchError, null);\r\n                        }\r\n                        else {\r\n                            var ttl = ttlReq || options.ttl;\r\n                            if (ttl) {\r\n                                _this.cache.set(cacheKey, fetchValue, ttl, cb);\r\n                            }\r\n                            cb(null, fetchValue);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        return new Promise(function (resolve, reject) {\r\n            run(function (err, value) {\r\n                if (err)\r\n                    reject(err);\r\n                if (value)\r\n                    resolve(value);\r\n            });\r\n        });\r\n    };\r\n    return HttpClient;\r\n}());\n\nfunction separator(url) {\r\n    return url.indexOf('?') > -1 ? '&' : '?';\r\n}\r\nvar Api = /** @class */ (function () {\r\n    function Api(url, options) {\r\n        this.options = options || {};\r\n        this.url = url;\r\n        var queryStrings = [\r\n            this.options.accessToken && \"access_token=\" + this.options.accessToken,\r\n            this.options.routes && \"routes=\" + encodeURIComponent(JSON.stringify(this.options.routes))\r\n        ]\r\n            .filter(Boolean);\r\n        if (queryStrings.length > 0) {\r\n            this.url += separator(url) + queryStrings.join('&');\r\n        }\r\n        this.apiDataTTL = this.options.apiDataTTL || 5;\r\n        this.httpClient = new HttpClient(this.options.requestHandler, this.options.apiCache, this.options.proxyAgent, this.options.timeoutInMs);\r\n    }\r\n    /**\r\n     * Fetches data used to construct the api client, from cache if it's\r\n     * present, otherwise from calling the prismic api endpoint (which is\r\n     * then cached).\r\n     */\r\n    Api.prototype.get = function (cb) {\r\n        var _this = this;\r\n        return this.httpClient.cachedRequest(this.url, { ttl: this.apiDataTTL }).then(function (data) {\r\n            var resolvedApi = new ResolvedApi(data, _this.httpClient, _this.options);\r\n            cb && cb(null, resolvedApi);\r\n            return resolvedApi;\r\n        }).catch(function (error) {\r\n            cb && cb(error);\r\n            throw error;\r\n        });\r\n    };\r\n    return Api;\r\n}());\n\nvar DefaultClient = /** @class */ (function () {\r\n    function DefaultClient(url, options) {\r\n        this.api = new Api(url, options);\r\n    }\r\n    DefaultClient.prototype.getApi = function () {\r\n        return this.api.get();\r\n    };\r\n    DefaultClient.prototype.everything = function () {\r\n        return this.form('everything');\r\n    };\r\n    DefaultClient.prototype.form = function (formId) {\r\n        return new LazySearchForm(formId, this.api);\r\n    };\r\n    DefaultClient.prototype.query = function (q, optionsOrCallback, cb) {\r\n        return this.getApi().then(function (api) { return api.query(q, optionsOrCallback, cb); });\r\n    };\r\n    DefaultClient.prototype.queryFirst = function (q, optionsOrCallback, cb) {\r\n        return this.getApi().then(function (api) { return api.queryFirst(q, optionsOrCallback, cb); });\r\n    };\r\n    DefaultClient.prototype.getByID = function (id, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getByID(id, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getByIDs = function (ids, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getByIDs(ids, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getByUID = function (type, uid, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getByUID(type, uid, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getSingle = function (type, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getSingle(type, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getBookmark = function (bookmark, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getBookmark(bookmark, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getPreviewResolver = function (token, documentId) {\r\n        var _this = this;\r\n        var getDocById = function (documentId, maybeOptions) { return _this.getApi().then(function (api) {\r\n            return api.getByID(documentId, maybeOptions);\r\n        }); };\r\n        return createPreviewResolver(token, documentId, getDocById);\r\n    };\r\n    DefaultClient.getApi = function (url, options) {\r\n        var api = new Api(url, options);\r\n        return api.get();\r\n    };\r\n    return DefaultClient;\r\n}());\n\nvar index = {\r\n    experimentCookie: EXPERIMENT_COOKIE,\r\n    previewCookie: PREVIEW_COOKIE,\r\n    Predicates: Predicates,\r\n    predicates: Predicates,\r\n    Experiments: Experiments,\r\n    Api: Api,\r\n    client: client,\r\n    getApi: getApi,\r\n    api: api,\r\n};\r\nfunction client(url, options) {\r\n    return new DefaultClient(url, options);\r\n}\r\nfunction getApi(url, options) {\r\n    return DefaultClient.getApi(url, options);\r\n}\r\nfunction api(url, options) {\r\n    return getApi(url, options);\r\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (index);\n//# sourceMappingURL=client.mjs.map\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/src/prismic-configuration.js","/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/node_modules/cross-fetch/dist/browser-ponyfill.js","/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/node_modules/@prismicio/client/esm/@prismicio/client.mjs"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmJ;;AAEnJ,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,2KAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAE5e;AACjC;AACA,yIAAyI;;AAEzI;AACP;AACA,SAAS,iEAAO;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,uCAAuC;AACvC;;AAEO;AACP;AACA;AACA;;AAEA;AACA,E;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA,SAAS;AACT,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,qBAAqB;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gDAAgD,cAAc;;AAE9D;;AAEA,CAAC,GAAG;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,gDAAgD,MAAM;AACtD;AACA;AACA;AACA;;;;;;;;;ACziBA;AAAqC;;AAErC;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mBAAmB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,kBAAkB,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,0DAA0D,wBAAwB,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA,wDAAwD,4BAA4B,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB,GAAG;AAClD;AACA,eAAe,YAAY;AAC3B,eAAe,iCAAiC,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,iCAAiC,gCAAgC,EAAE,GAAG;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,wCAAwC;AACxC,4BAA4B;AAC5B,4BAA4B;AAC5B;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,kCAAkC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAuD;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wCAAU;AACjC;AACA;AACA;AACA,gDAAgD,qDAAqD,EAAE;AACvG,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,2EAA2E,mDAAmD;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,uBAAuB;AAC/E;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,4CAA4C,EAAE;AAChG;AACA;AACA,kDAAkD,iDAAiD,EAAE;AACrG;AACA;AACA,kDAAkD,qCAAqC,EAAE;AACzF;AACA;AACA,kDAAkD,uCAAuC,EAAE;AAC3F;AACA;AACA,kDAAkD,6CAA6C,EAAE;AACjG;AACA;AACA,kDAAkD,yCAAyC,EAAE;AAC7F;AACA;AACA,kDAAkD,+CAA+C,EAAE;AACnG;AACA;AACA;AACA,8DAA8D;AAC9D;AACA,SAAS,EAAE;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,8DAAK,EAAC;AACrB","file":"x","sourcesContent":["import _defineProperty from \"/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Prismic from \"@prismicio/client\";\nexport var apiEndpoint = \"https://dry-john.cdn.prismic.io/api/v2\";\nexport var accessToken = \"MC5ZRTlWNmhJQUFDWUFyQWM5.Te-_ve-_vTPvv73vv71OB--_ve-_ve-_vVPvv73vv71F77-977-9RX4777-977-977-977-977-9NO-_vUYaBgPvv70\"; // Client method to query documents from the Prismic repo\n\nexport var Client = function Client() {\n  var req = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return Prismic.client(apiEndpoint, createClientOptions(req, accessToken));\n};\n\nvar createClientOptions = function createClientOptions() {\n  var req = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var prismicAccessToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var reqOption = req ? {\n    req: req\n  } : {};\n  var accessTokenOption = prismicAccessToken ? {\n    accessToken: prismicAccessToken\n  } : {};\n  return _objectSpread(_objectSpread({}, reqOption), accessTokenOption);\n};\n\nexport var linkResolver = function linkResolver(doc) {\n  if (doc.type === \"post\") {\n    return \"/post/\".concat(doc.uid);\n  }\n\n  return \"/\";\n};","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n}({}));\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","import crossFetch from 'cross-fetch';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar Variation = /** @class */ (function () {\r\n    function Variation(data) {\r\n        this.data = {};\r\n        this.data = data;\r\n    }\r\n    Variation.prototype.id = function () {\r\n        return this.data.id;\r\n    };\r\n    Variation.prototype.ref = function () {\r\n        return this.data.ref;\r\n    };\r\n    Variation.prototype.label = function () {\r\n        return this.data.label;\r\n    };\r\n    return Variation;\r\n}());\r\nvar Experiment = /** @class */ (function () {\r\n    function Experiment(data) {\r\n        this.data = {};\r\n        this.data = data;\r\n        this.variations = (data.variations || []).map(function (v) {\r\n            return new Variation(v);\r\n        });\r\n    }\r\n    Experiment.prototype.id = function () {\r\n        return this.data.id;\r\n    };\r\n    Experiment.prototype.googleId = function () {\r\n        return this.data.googleId;\r\n    };\r\n    Experiment.prototype.name = function () {\r\n        return this.data.name;\r\n    };\r\n    return Experiment;\r\n}());\r\nvar Experiments = /** @class */ (function () {\r\n    function Experiments(data) {\r\n        if (data) {\r\n            this.drafts = (data.drafts || []).map(function (exp) {\r\n                return new Experiment(exp);\r\n            });\r\n            this.running = (data.running || []).map(function (exp) {\r\n                return new Experiment(exp);\r\n            });\r\n        }\r\n    }\r\n    Experiments.prototype.current = function () {\r\n        if (this.running.length > 0) {\r\n            return this.running[0];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    Experiments.prototype.refFromCookie = function (cookie) {\r\n        if (!cookie || cookie.trim() === '')\r\n            return null;\r\n        var splitted = cookie.trim().split(' ');\r\n        if (splitted.length < 2)\r\n            return null;\r\n        var expId = splitted[0];\r\n        var varIndex = parseInt(splitted[1], 10);\r\n        var exp = this.running.filter(function (exp) {\r\n            return exp.googleId() === expId && exp.variations.length > varIndex;\r\n        })[0];\r\n        return exp ? exp.variations[varIndex].ref() : null;\r\n    };\r\n    return Experiments;\r\n}());\n\nvar LazySearchForm = /** @class */ (function () {\r\n    function LazySearchForm(id, api) {\r\n        this.id = id;\r\n        this.api = api;\r\n        this.fields = {};\r\n    }\r\n    LazySearchForm.prototype.set = function (key, value) {\r\n        this.fields[key] = value;\r\n        return this;\r\n    };\r\n    LazySearchForm.prototype.ref = function (ref) {\r\n        return this.set('ref', ref);\r\n    };\r\n    LazySearchForm.prototype.query = function (query) {\r\n        return this.set('q', query);\r\n    };\r\n    LazySearchForm.prototype.pageSize = function (size) {\r\n        return this.set('pageSize', size);\r\n    };\r\n    LazySearchForm.prototype.graphQuery = function (query) {\r\n        return this.set('graphQuery', query);\r\n    };\r\n    LazySearchForm.prototype.lang = function (langCode) {\r\n        return this.set('lang', langCode);\r\n    };\r\n    LazySearchForm.prototype.page = function (p) {\r\n        return this.set('page', p);\r\n    };\r\n    LazySearchForm.prototype.after = function (documentId) {\r\n        return this.set('after', documentId);\r\n    };\r\n    LazySearchForm.prototype.orderings = function (orderings) {\r\n        return this.set('orderings', orderings);\r\n    };\r\n    LazySearchForm.prototype.url = function () {\r\n        var _this = this;\r\n        return this.api.get().then(function (api) {\r\n            return LazySearchForm.toSearchForm(_this, api).url();\r\n        });\r\n    };\r\n    LazySearchForm.prototype.submit = function (cb) {\r\n        var _this = this;\r\n        return this.api.get().then(function (api) {\r\n            return LazySearchForm.toSearchForm(_this, api).submit(cb);\r\n        });\r\n    };\r\n    LazySearchForm.toSearchForm = function (lazyForm, api) {\r\n        var form = api.form(lazyForm.id);\r\n        if (form) {\r\n            return Object.keys(lazyForm.fields).reduce(function (form, fieldKey) {\r\n                var fieldValue = lazyForm.fields[fieldKey];\r\n                if (fieldKey === 'q') {\r\n                    return form.query(fieldValue);\r\n                }\r\n                else if (fieldKey === 'pageSize') {\r\n                    return form.pageSize(fieldValue);\r\n                }\r\n                else if (fieldKey === 'graphQuery') {\r\n                    return form.graphQuery(fieldValue);\r\n                }\r\n                else if (fieldKey === 'lang') {\r\n                    return form.lang(fieldValue);\r\n                }\r\n                else if (fieldKey === 'page') {\r\n                    return form.page(fieldValue);\r\n                }\r\n                else if (fieldKey === 'after') {\r\n                    return form.after(fieldValue);\r\n                }\r\n                else if (fieldKey === 'orderings') {\r\n                    return form.orderings(fieldValue);\r\n                }\r\n                else {\r\n                    return form.set(fieldKey, fieldValue);\r\n                }\r\n            }, form);\r\n        }\r\n        else {\r\n            throw new Error(\"Unable to access to form \" + lazyForm.id);\r\n        }\r\n    };\r\n    return LazySearchForm;\r\n}());\r\nvar SearchForm = /** @class */ (function () {\r\n    function SearchForm(form, httpClient) {\r\n        this.httpClient = httpClient;\r\n        this.form = form;\r\n        this.data = {};\r\n        for (var field in form.fields) {\r\n            if (form.fields[field]['default']) {\r\n                this.data[field] = [form.fields[field]['default']];\r\n            }\r\n        }\r\n    }\r\n    SearchForm.prototype.set = function (field, value) {\r\n        var fieldDesc = this.form.fields[field];\r\n        if (!fieldDesc)\r\n            throw new Error('Unknown field ' + field);\r\n        var checkedValue = value === '' || value === undefined ? null : value;\r\n        var values = this.data[field] || [];\r\n        if (fieldDesc.multiple) {\r\n            values = checkedValue ? values.concat([checkedValue]) : values;\r\n        }\r\n        else {\r\n            values = checkedValue ? [checkedValue] : values;\r\n        }\r\n        this.data[field] = values;\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets a ref to query on for this SearchForm. This is a mandatory\r\n     * method to call before calling submit(), and api.form('everything').submit()\r\n     * will not work.\r\n     */\r\n    SearchForm.prototype.ref = function (ref) {\r\n        return this.set('ref', ref);\r\n    };\r\n    /**\r\n     * Sets a predicate-based query for this SearchForm. This is where you\r\n     * paste what you compose in your prismic.io API browser.\r\n     */\r\n    SearchForm.prototype.query = function (query) {\r\n        if (typeof query === 'string') {\r\n            return this.query([query]);\r\n        }\r\n        else if (Array.isArray(query)) {\r\n            return this.set('q', \"[\" + query.join('') + \"]\");\r\n        }\r\n        else {\r\n            throw new Error(\"Invalid query : \" + query);\r\n        }\r\n    };\r\n    /**\r\n     * Sets a page size to query for this SearchForm. This is an optional method.\r\n     *\r\n     * @param {number} size - The page size\r\n     * @returns {SearchForm} - The SearchForm itself\r\n     */\r\n    SearchForm.prototype.pageSize = function (size) {\r\n        return this.set('pageSize', size);\r\n    };\r\n    /**\r\n     * Sets the graphquery to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.graphQuery = function (query) {\r\n        return this.set('graphQuery', query);\r\n    };\r\n    /**\r\n     * Sets the language to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.lang = function (langCode) {\r\n        return this.set('lang', langCode);\r\n    };\r\n    /**\r\n     * Sets the page number to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.page = function (p) {\r\n        return this.set('page', p);\r\n    };\r\n    /**\r\n     * Remove all the documents except for those after the specified document in the list. This is an optional method.\r\n     */\r\n    SearchForm.prototype.after = function (documentId) {\r\n        return this.set('after', documentId);\r\n    };\r\n    /**\r\n     * Sets the orderings to query for this SearchForm. This is an optional method.\r\n     */\r\n    SearchForm.prototype.orderings = function (orderings) {\r\n        if (!orderings) {\r\n            return this;\r\n        }\r\n        else {\r\n            return this.set('orderings', \"[\" + orderings.join(',') + \"]\");\r\n        }\r\n    };\r\n    /**\r\n     * Build the URL to query\r\n     */\r\n    SearchForm.prototype.url = function () {\r\n        var url = this.form.action;\r\n        if (this.data) {\r\n            var sep = (url.indexOf('?') > -1 ? '&' : '?');\r\n            for (var key in this.data) {\r\n                if (Object.prototype.hasOwnProperty.call(this.data, key)) {\r\n                    var values = this.data[key];\r\n                    if (values) {\r\n                        for (var i = 0; i < values.length; i++) {\r\n                            url += sep + key + '=' + encodeURIComponent(values[i]);\r\n                            sep = '&';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return url;\r\n    };\r\n    /**\r\n     * Submits the query, and calls the callback function.\r\n     */\r\n    SearchForm.prototype.submit = function (cb) {\r\n        return this.httpClient.cachedRequest(this.url()).then(function (response) {\r\n            cb && cb(null, response);\r\n            return response;\r\n        }).catch(function (error) {\r\n            cb && cb(error);\r\n            throw error;\r\n        });\r\n    };\r\n    return SearchForm;\r\n}());\n\nvar OPERATOR = {\r\n    at: 'at',\r\n    not: 'not',\r\n    missing: 'missing',\r\n    has: 'has',\r\n    any: 'any',\r\n    in: 'in',\r\n    fulltext: 'fulltext',\r\n    similar: 'similar',\r\n    numberGt: 'number.gt',\r\n    numberLt: 'number.lt',\r\n    numberInRange: 'number.inRange',\r\n    dateBefore: 'date.before',\r\n    dateAfter: 'date.after',\r\n    dateBetween: 'date.between',\r\n    dateDayOfMonth: 'date.day-of-month',\r\n    dateDayOfMonthAfter: 'date.day-of-month-after',\r\n    dateDayOfMonthBefore: 'date.day-of-month-before',\r\n    dateDayOfWeek: 'date.day-of-week',\r\n    dateDayOfWeekAfter: 'date.day-of-week-after',\r\n    dateDayOfWeekBefore: 'date.day-of-week-before',\r\n    dateMonth: 'date.month',\r\n    dateMonthBefore: 'date.month-before',\r\n    dateMonthAfter: 'date.month-after',\r\n    dateYear: 'date.year',\r\n    dateHour: 'date.hour',\r\n    dateHourBefore: 'date.hour-before',\r\n    dateHourAfter: 'date.hour-after',\r\n    GeopointNear: 'geopoint.near',\r\n};\r\nfunction encode(value) {\r\n    if (typeof value === 'string') {\r\n        return \"\\\"\" + value + \"\\\"\";\r\n    }\r\n    else if (typeof value === 'number') {\r\n        return value.toString();\r\n    }\r\n    else if (value instanceof Date) {\r\n        return value.getTime().toString();\r\n    }\r\n    else if (Array.isArray(value)) {\r\n        return \"[\" + value.map(function (v) { return encode(v); }).join(',') + \"]\";\r\n    }\r\n    else if (typeof value === \"boolean\") {\r\n        return value.toString();\r\n    }\r\n    else {\r\n        throw new Error(\"Unable to encode \" + value + \" of type \" + typeof value);\r\n    }\r\n}\r\nvar geopoint = {\r\n    near: function (fragment, latitude, longitude, radius) {\r\n        return \"[\" + OPERATOR.GeopointNear + \"(\" + fragment + \", \" + latitude + \", \" + longitude + \", \" + radius + \")]\";\r\n    },\r\n};\r\nvar date = {\r\n    before: function (fragment, before) {\r\n        return \"[\" + OPERATOR.dateBefore + \"(\" + fragment + \", \" + encode(before) + \")]\";\r\n    },\r\n    after: function (fragment, after) {\r\n        return \"[\" + OPERATOR.dateAfter + \"(\" + fragment + \", \" + encode(after) + \")]\";\r\n    },\r\n    between: function (fragment, before, after) {\r\n        return \"[\" + OPERATOR.dateBetween + \"(\" + fragment + \", \" + encode(before) + \", \" + encode(after) + \")]\";\r\n    },\r\n    dayOfMonth: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfMonth + \"(\" + fragment + \", \" + day + \")]\";\r\n    },\r\n    dayOfMonthAfter: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfMonthAfter + \"(\" + fragment + \", \" + day + \")]\";\r\n    },\r\n    dayOfMonthBefore: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfMonthBefore + \"(\" + fragment + \", \" + day + \")]\";\r\n    },\r\n    dayOfWeek: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfWeek + \"(\" + fragment + \", \" + encode(day) + \")]\";\r\n    },\r\n    dayOfWeekAfter: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfWeekAfter + \"(\" + fragment + \", \" + encode(day) + \")]\";\r\n    },\r\n    dayOfWeekBefore: function (fragment, day) {\r\n        return \"[\" + OPERATOR.dateDayOfWeekBefore + \"(\" + fragment + \", \" + encode(day) + \")]\";\r\n    },\r\n    month: function (fragment, month) {\r\n        return \"[\" + OPERATOR.dateMonth + \"(\" + fragment + \", \" + encode(month) + \")]\";\r\n    },\r\n    monthBefore: function (fragment, month) {\r\n        return \"[\" + OPERATOR.dateMonthBefore + \"(\" + fragment + \", \" + encode(month) + \")]\";\r\n    },\r\n    monthAfter: function (fragment, month) {\r\n        return \"[\" + OPERATOR.dateMonthAfter + \"(\" + fragment + \", \" + encode(month) + \")]\";\r\n    },\r\n    year: function (fragment, year) {\r\n        return \"[\" + OPERATOR.dateYear + \"(\" + fragment + \", \" + year + \")]\";\r\n    },\r\n    hour: function (fragment, hour) {\r\n        return \"[\" + OPERATOR.dateHour + \"(\" + fragment + \", \" + hour + \")]\";\r\n    },\r\n    hourBefore: function (fragment, hour) {\r\n        return \"[\" + OPERATOR.dateHourBefore + \"(\" + fragment + \", \" + hour + \")]\";\r\n    },\r\n    hourAfter: function (fragment, hour) {\r\n        return \"[\" + OPERATOR.dateHourAfter + \"(\" + fragment + \", \" + hour + \")]\";\r\n    },\r\n};\r\nvar number = {\r\n    gt: function (fragment, value) {\r\n        return \"[\" + OPERATOR.numberGt + \"(\" + fragment + \", \" + value + \")]\";\r\n    },\r\n    lt: function (fragment, value) {\r\n        return \"[\" + OPERATOR.numberLt + \"(\" + fragment + \", \" + value + \")]\";\r\n    },\r\n    inRange: function (fragment, before, after) {\r\n        return \"[\" + OPERATOR.numberInRange + \"(\" + fragment + \", \" + before + \", \" + after + \")]\";\r\n    },\r\n};\r\nvar Predicates = {\r\n    at: function (fragment, value) {\r\n        return \"[\" + OPERATOR.at + \"(\" + fragment + \", \" + encode(value) + \")]\";\r\n    },\r\n    not: function (fragment, value) {\r\n        return \"[\" + OPERATOR.not + \"(\" + fragment + \", \" + encode(value) + \")]\";\r\n    },\r\n    missing: function (fragment) {\r\n        return \"[\" + OPERATOR.missing + \"(\" + fragment + \")]\";\r\n    },\r\n    has: function (fragment) {\r\n        return \"[\" + OPERATOR.has + \"(\" + fragment + \")]\";\r\n    },\r\n    any: function (fragment, values) {\r\n        return \"[\" + OPERATOR.any + \"(\" + fragment + \", \" + encode(values) + \")]\";\r\n    },\r\n    in: function (fragment, values) {\r\n        return \"[\" + OPERATOR.in + \"(\" + fragment + \", \" + encode(values) + \")]\";\r\n    },\r\n    fulltext: function (fragment, value) {\r\n        return \"[\" + OPERATOR.fulltext + \"(\" + fragment + \", \" + encode(value) + \")]\";\r\n    },\r\n    similar: function (documentId, maxResults) {\r\n        return \"[\" + OPERATOR.similar + \"(\\\"\" + documentId + \"\\\", \" + maxResults + \")]\";\r\n    },\r\n    date: date,\r\n    dateBefore: date.before,\r\n    dateAfter: date.after,\r\n    dateBetween: date.between,\r\n    dayOfMonth: date.dayOfMonth,\r\n    dayOfMonthAfter: date.dayOfMonthAfter,\r\n    dayOfMonthBefore: date.dayOfMonthBefore,\r\n    dayOfWeek: date.dayOfWeek,\r\n    dayOfWeekAfter: date.dayOfWeekAfter,\r\n    dayOfWeekBefore: date.dayOfWeekBefore,\r\n    month: date.month,\r\n    monthBefore: date.monthBefore,\r\n    monthAfter: date.monthAfter,\r\n    year: date.year,\r\n    hour: date.hour,\r\n    hourBefore: date.hourBefore,\r\n    hourAfter: date.hourAfter,\r\n    number: number,\r\n    gt: number.gt,\r\n    lt: number.lt,\r\n    inRange: number.inRange,\r\n    near: geopoint.near,\r\n    geopoint: geopoint,\r\n};\n\n/* eslint-disable */\r\n// Some portions of code from https://github.com/jshttp/cookie\r\nvar decode = decodeURIComponent;\r\nfunction tryDecode(str, decode) {\r\n    try {\r\n        return decode(str);\r\n    }\r\n    catch (e) {\r\n        return str;\r\n    }\r\n}\r\nfunction parse(str, options) {\r\n    if (typeof str !== 'string') {\r\n        throw new TypeError('argument str must be a string');\r\n    }\r\n    var obj = {};\r\n    var opt = options || {};\r\n    var pairs = str.split(/; */);\r\n    var dec = opt.decode || decode;\r\n    pairs.forEach(function (pair) {\r\n        var eq_idx = pair.indexOf('=');\r\n        // skip things that don't look like key=value\r\n        if (eq_idx < 0) {\r\n            return;\r\n        }\r\n        var key = pair.substr(0, eq_idx).trim();\r\n        var val = pair.substr(++eq_idx, pair.length).trim();\r\n        // quoted values\r\n        if ('\"' == val[0]) {\r\n            val = val.slice(1, -1);\r\n        }\r\n        // only assign once\r\n        if (undefined == obj[key]) {\r\n            obj[key] = tryDecode(val, dec);\r\n        }\r\n    });\r\n    return obj;\r\n}\r\nvar Cookies = { parse: parse };\n\nfunction createPreviewResolver(token, documentId, getDocByID) {\r\n    var resolve = function (linkResolver, defaultUrl, cb) {\r\n        if (documentId && getDocByID) {\r\n            return getDocByID(documentId, { ref: token }).then(function (document) {\r\n                if (!document) {\r\n                    cb && cb(null, defaultUrl);\r\n                    return defaultUrl;\r\n                }\r\n                else {\r\n                    var url = (linkResolver && linkResolver(document)) || document.url || defaultUrl;\r\n                    cb && cb(null, url);\r\n                    return url;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(defaultUrl);\r\n        }\r\n    };\r\n    return { token: token, documentId: documentId, resolve: resolve };\r\n}\n\nvar PREVIEW_COOKIE = 'io.prismic.preview';\r\nvar EXPERIMENT_COOKIE = 'io.prismic.experiment';\r\nvar ResolvedApi = /** @class */ (function () {\r\n    function ResolvedApi(data, httpClient, options) {\r\n        this.data = data;\r\n        this.masterRef = data.refs.filter(function (ref) { return ref.isMasterRef; })[0];\r\n        this.experiments = new Experiments(data.experiments);\r\n        this.bookmarks = data.bookmarks;\r\n        this.httpClient = httpClient;\r\n        this.options = options;\r\n        this.refs = data.refs;\r\n        this.tags = data.tags;\r\n        this.types = data.types;\r\n        this.languages = data.languages;\r\n    }\r\n    /**\r\n     * Returns a useable form from its id, as described in the RESTful description of the API.\r\n     * For instance: api.form(\"everything\") works on every repository (as \"everything\" exists by default)\r\n     * You can then chain the calls: api.form(\"everything\").query('[[:d = at(document.id, \"UkL0gMuvzYUANCpf\")]]').ref(ref).submit()\r\n     */\r\n    ResolvedApi.prototype.form = function (formId) {\r\n        var form = this.data.forms[formId];\r\n        if (form) {\r\n            return new SearchForm(form, this.httpClient);\r\n        }\r\n        return null;\r\n    };\r\n    ResolvedApi.prototype.everything = function () {\r\n        var f = this.form('everything');\r\n        if (!f)\r\n            throw new Error('Missing everything form');\r\n        return f;\r\n    };\r\n    /**\r\n     * The ID of the master ref on this prismic.io API.\r\n     * Do not use like this: searchForm.ref(api.master()).\r\n     * Instead, set your ref once in a variable, and call it when you need it; this will allow to change the ref you're viewing easily for your entire page.\r\n     */\r\n    ResolvedApi.prototype.master = function () {\r\n        return this.masterRef.ref;\r\n    };\r\n    /**\r\n     * Returns the ref ID for a given ref's label.\r\n     * Do not use like this: searchForm.ref(api.ref(\"Future release label\")).\r\n     * Instead, set your ref once in a variable, and call it when you need it; this will allow to change the ref you're viewing easily for your entire page.\r\n     */\r\n    ResolvedApi.prototype.ref = function (label) {\r\n        var ref = this.data.refs.filter(function (ref) { return ref.label === label; })[0];\r\n        return ref ? ref.ref : null;\r\n    };\r\n    ResolvedApi.prototype.currentExperiment = function () {\r\n        return this.experiments.current();\r\n    };\r\n    /**\r\n     * Query the repository\r\n     */\r\n    ResolvedApi.prototype.query = function (q, optionsOrCallback, cb) {\r\n        if (cb === void 0) { cb = function () { }; }\r\n        var _a = typeof optionsOrCallback === 'function'\r\n            ? { options: {}, callback: optionsOrCallback }\r\n            : { options: optionsOrCallback || {}, callback: cb }, options = _a.options, callback = _a.callback;\r\n        var form = this.everything();\r\n        for (var key in options) {\r\n            form = form.set(key, options[key]);\r\n        }\r\n        if (!options.ref) {\r\n            // Look in cookies if we have a ref (preview or experiment)\r\n            var cookieString = '';\r\n            if (this.options.req) { // NodeJS\r\n                cookieString = this.options.req.headers['cookie'] || '';\r\n            }\r\n            else if (typeof window !== 'undefined' && window.document) { // Browser\r\n                cookieString = window.document.cookie || '';\r\n            }\r\n            var cookies = Cookies.parse(cookieString);\r\n            var previewRef = cookies[PREVIEW_COOKIE];\r\n            var experimentRef = this.experiments.refFromCookie(cookies[EXPERIMENT_COOKIE]);\r\n            form = form.ref(previewRef || experimentRef || this.masterRef.ref);\r\n        }\r\n        if (q) {\r\n            form.query(q);\r\n        }\r\n        return form.submit(callback);\r\n    };\r\n    /**\r\n     * Retrieve the document returned by the given query\r\n     * @param {string|array|Predicate} the query\r\n     * @param {object} additional parameters. In NodeJS, pass the request as 'req'.\r\n     * @param {function} callback(err, doc)\r\n     */\r\n    ResolvedApi.prototype.queryFirst = function (q, optionsOrCallback, cb) {\r\n        var _a = typeof optionsOrCallback === 'function'\r\n            ? { options: {}, callback: optionsOrCallback }\r\n            : { options: optionsOrCallback || {}, callback: cb || (function () { }) }, options = _a.options, callback = _a.callback;\r\n        options.page = 1;\r\n        options.pageSize = 1;\r\n        return this.query(q, options).then(function (response) {\r\n            var document = response && response.results && response.results[0];\r\n            callback(null, document);\r\n            return document;\r\n        }).catch(function (error) {\r\n            callback(error);\r\n            throw error;\r\n        });\r\n    };\r\n    /**\r\n     * Retrieve the document with the given id\r\n     */\r\n    ResolvedApi.prototype.getByID = function (id, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        if (!options.lang)\r\n            options.lang = '*';\r\n        return this.queryFirst(Predicates.at('document.id', id), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve multiple documents from an array of id\r\n     */\r\n    ResolvedApi.prototype.getByIDs = function (ids, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        if (!options.lang)\r\n            options.lang = '*';\r\n        return this.query(Predicates.in('document.id', ids), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve the document with the given uid\r\n     */\r\n    ResolvedApi.prototype.getByUID = function (type, uid, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        if (options.lang === '*')\r\n            throw new Error(\"FORBIDDEN. You can't use getByUID with *, use the predicates instead.\");\r\n        if (!options.page)\r\n            options.page = 1;\r\n        return this.queryFirst(Predicates.at(\"my.\" + type + \".uid\", uid), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve the singleton document with the given type\r\n     */\r\n    ResolvedApi.prototype.getSingle = function (type, maybeOptions, cb) {\r\n        var options = maybeOptions ? __assign({}, maybeOptions) : {};\r\n        return this.queryFirst(Predicates.at('document.type', type), options, cb);\r\n    };\r\n    /**\r\n     * Retrieve the document with the given bookmark\r\n     */\r\n    ResolvedApi.prototype.getBookmark = function (bookmark, maybeOptions, cb) {\r\n        var id = this.data.bookmarks[bookmark];\r\n        if (id) {\r\n            return this.getByID(id, maybeOptions, cb);\r\n        }\r\n        else {\r\n            return Promise.reject('Error retrieving bookmarked id');\r\n        }\r\n    };\r\n    ResolvedApi.prototype.getPreviewResolver = function (token, documentId) {\r\n        return createPreviewResolver(token, documentId, this.getByID.bind(this));\r\n    };\r\n    return ResolvedApi;\r\n}());\n\n/* eslint-disable */\r\n/**\r\n* A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\r\n* recently used items while discarding least recently used items when its limit\r\n* is reached.\r\n*\r\n* Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\r\n* Typescript-ified by Oleksandr Nikitin <https://tvori.info>\r\n*\r\n* Illustration of the design:\r\n*\r\n*       entry             entry             entry             entry\r\n*       ______            ______            ______            ______\r\n*      | head |.newer => |      |.newer => |      |.newer => | tail |\r\n*      |  A   |          |  B   |          |  C   |          |  D   |\r\n*      |______| <= older.|______| <= older.|______| <= older.|______|\r\n*\r\n*  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\r\n*/\r\nfunction MakeLRUCache(limit) {\r\n    return new LRUCache(limit);\r\n}\r\nfunction LRUCache(limit) {\r\n    // Current size of the cache. (Read-only).\r\n    this.size = 0;\r\n    // Maximum number of items this cache can hold.\r\n    this.limit = limit;\r\n    this._keymap = {};\r\n}\r\n/**\r\n * Put <value> into the cache associated with <key>. Returns the entry which was\r\n * removed to make room for the new entry. Otherwise undefined is returned\r\n * (i.e. if there was enough room already).\r\n */\r\nLRUCache.prototype.put = function (key, value) {\r\n    var entry = { key: key, value: value };\r\n    // Note: No protection agains replacing, and thus orphan entries. By design.\r\n    this._keymap[key] = entry;\r\n    if (this.tail) {\r\n        // link previous tail to the new tail (entry)\r\n        this.tail.newer = entry;\r\n        entry.older = this.tail;\r\n    }\r\n    else {\r\n        // we're first in -- yay\r\n        this.head = entry;\r\n    }\r\n    // add new entry to the end of the linked list -- it's now the freshest entry.\r\n    this.tail = entry;\r\n    if (this.size === this.limit) {\r\n        // we hit the limit -- remove the head\r\n        return this.shift();\r\n    }\r\n    else {\r\n        // increase the size counter\r\n        this.size++;\r\n    }\r\n};\r\n/**\r\n * Purge the least recently used (oldest) entry from the cache. Returns the\r\n * removed entry or undefined if the cache was empty.\r\n *\r\n * If you need to perform any form of finalization of purged items, this is a\r\n * good place to do it. Simply override/replace this function:\r\n *\r\n *   var c = new LRUCache(123);\r\n *   c.shift = function() {\r\n *     var entry = LRUCache.prototype.shift.call(this);\r\n *     doSomethingWith(entry);\r\n *     return entry;\r\n *   }\r\n */\r\nLRUCache.prototype.shift = function () {\r\n    // todo: handle special case when limit == 1\r\n    var entry = this.head;\r\n    if (entry) {\r\n        if (this.head.newer) {\r\n            this.head = this.head.newer;\r\n            this.head.older = undefined;\r\n        }\r\n        else {\r\n            this.head = undefined;\r\n        }\r\n        // Remove last strong reference to <entry> and remove links from the purged\r\n        // entry being returned:\r\n        entry.newer = entry.older = undefined;\r\n        // delete is slow, but we need to do this to avoid uncontrollable growth:\r\n        delete this._keymap[entry.key];\r\n    }\r\n    console.log('purging ', entry.key);\r\n    return entry;\r\n};\r\n/**\r\n * Get and register recent use of <key>. Returns the value associated with <key>\r\n * or undefined if not in cache.\r\n */\r\nLRUCache.prototype.get = function (key, returnEntry) {\r\n    // First, find our cache entry\r\n    var entry = this._keymap[key];\r\n    if (entry === undefined)\r\n        return; // Not cached. Sorry.\r\n    // As <key> was found in the cache, register it as being requested recently\r\n    if (entry === this.tail) {\r\n        // Already the most recently used entry, so no need to update the list\r\n        return returnEntry ? entry : entry.value;\r\n    }\r\n    // HEAD--------------TAIL\r\n    //   <.older   .newer>\r\n    //  <--- add direction --\r\n    //   A  B  C  <D>  E\r\n    if (entry.newer) {\r\n        if (entry === this.head)\r\n            this.head = entry.newer;\r\n        entry.newer.older = entry.older; // C <-- E.\r\n    }\r\n    if (entry.older)\r\n        entry.older.newer = entry.newer; // C. --> E\r\n    entry.newer = undefined; // D --x\r\n    entry.older = this.tail; // D. --> E\r\n    if (this.tail)\r\n        this.tail.newer = entry; // E. <-- D\r\n    this.tail = entry;\r\n    return returnEntry ? entry : entry.value;\r\n};\r\n// ----------------------------------------------------------------------------\r\n// Following code is optional and can be removed without breaking the core\r\n// functionality.\r\n/**\r\n * Check if <key> is in the cache without registering recent use. Feasible if\r\n * you do not want to chage the state of the cache, but only \"peek\" at it.\r\n * Returns the entry associated with <key> if found, or undefined if not found.\r\n */\r\nLRUCache.prototype.find = function (key) {\r\n    return this._keymap[key];\r\n};\r\n/**\r\n * Update the value of entry with <key>. Returns the old value, or undefined if\r\n * entry was not in the cache.\r\n */\r\nLRUCache.prototype.set = function (key, value) {\r\n    var oldvalue;\r\n    var entry = this.get(key, true);\r\n    if (entry) {\r\n        oldvalue = entry.value;\r\n        entry.value = value;\r\n    }\r\n    else {\r\n        oldvalue = this.put(key, value);\r\n        if (oldvalue)\r\n            oldvalue = oldvalue.value;\r\n    }\r\n    return oldvalue;\r\n};\r\n/**\r\n * Remove entry <key> from cache and return its value. Returns undefined if not\r\n * found.\r\n */\r\nLRUCache.prototype.remove = function (key) {\r\n    var entry = this._keymap[key];\r\n    if (!entry)\r\n        return;\r\n    delete this._keymap[entry.key]; // need to do delete unfortunately\r\n    if (entry.newer && entry.older) {\r\n        // relink the older entry with the newer entry\r\n        entry.older.newer = entry.newer;\r\n        entry.newer.older = entry.older;\r\n    }\r\n    else if (entry.newer) {\r\n        // remove the link to us\r\n        entry.newer.older = undefined;\r\n        // link the newer entry to head\r\n        this.head = entry.newer;\r\n    }\r\n    else if (entry.older) {\r\n        // remove the link to us\r\n        entry.older.newer = undefined;\r\n        // link the newer entry to head\r\n        this.tail = entry.older;\r\n    }\r\n    else { // if(entry.older === undefined && entry.newer === undefined) {\r\n        this.head = this.tail = undefined;\r\n    }\r\n    this.size--;\r\n    return entry.value;\r\n};\r\n/** Removes all entries */\r\nLRUCache.prototype.removeAll = function () {\r\n    // This should be safe, as we never expose strong refrences to the outside\r\n    this.head = this.tail = undefined;\r\n    this.size = 0;\r\n    this._keymap = {};\r\n};\r\n/**\r\n * Return an array containing all keys of entries stored in the cache object, in\r\n * arbitrary order.\r\n */\r\nif (typeof Object.keys === 'function') {\r\n    LRUCache.prototype.keys = function () { return Object.keys(this._keymap); };\r\n}\r\nelse {\r\n    LRUCache.prototype.keys = function () {\r\n        var keys = [];\r\n        for (var k in this._keymap)\r\n            keys.push(k);\r\n        return keys;\r\n    };\r\n}\r\n/**\r\n * Call `fun` for each entry. Starting with the newest entry if `desc` is a true\r\n * value, otherwise starts with the oldest (head) enrty and moves towards the\r\n * tail.\r\n *\r\n * `fun` is called with 3 arguments in the context `context`:\r\n *   `fun.call(context, Object key, Object value, LRUCache self)`\r\n */\r\nLRUCache.prototype.forEach = function (fun, context, desc) {\r\n    var entry;\r\n    if (context === true) {\r\n        desc = true;\r\n        context = undefined;\r\n    }\r\n    else if (typeof context !== 'object')\r\n        context = this;\r\n    if (desc) {\r\n        entry = this.tail;\r\n        while (entry) {\r\n            fun.call(context, entry.key, entry.value, this);\r\n            entry = entry.older;\r\n        }\r\n    }\r\n    else {\r\n        entry = this.head;\r\n        while (entry) {\r\n            fun.call(context, entry.key, entry.value, this);\r\n            entry = entry.newer;\r\n        }\r\n    }\r\n};\r\n/** Returns a JSON (array) representation */\r\n//LRUCache.prototype.toJSON = function () {\r\n//    var s: IEntry[] = [], entry = this.head;\r\n//    while (entry) {\r\n//        s.push({ key: entry.key.toJSON(), value: entry.value.toJSON() });\r\n//        entry = entry.newer;\r\n//    }\r\n//    return s;\r\n//};\r\n/** Returns a String representation */\r\nLRUCache.prototype.toString = function () {\r\n    var s = '', entry = this.head;\r\n    while (entry) {\r\n        s += String(entry.key) + ':' + entry.value;\r\n        entry = entry.newer;\r\n        if (entry)\r\n            s += ' < ';\r\n    }\r\n    return s;\r\n};\r\n// Export ourselves\r\n//if (typeof this === 'object') this.LRUCache = LRUCache;\n\nvar DefaultApiCache = /** @class */ (function () {\r\n    function DefaultApiCache(limit) {\r\n        if (limit === void 0) { limit = 1000; }\r\n        this.lru = MakeLRUCache(limit);\r\n    }\r\n    DefaultApiCache.prototype.isExpired = function (key) {\r\n        var value = this.lru.get(key, false);\r\n        if (value) {\r\n            return value.expiredIn !== 0 && value.expiredIn < Date.now();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    DefaultApiCache.prototype.get = function (key, cb) {\r\n        var value = this.lru.get(key, false);\r\n        if (value && !this.isExpired(key)) {\r\n            cb(null, value.data);\r\n        }\r\n        else {\r\n            cb && cb(null);\r\n        }\r\n    };\r\n    DefaultApiCache.prototype.set = function (key, value, ttl, cb) {\r\n        this.lru.remove(key);\r\n        this.lru.put(key, {\r\n            data: value,\r\n            expiredIn: ttl ? (Date.now() + (ttl * 1000)) : 0,\r\n        });\r\n        cb && cb(null);\r\n    };\r\n    DefaultApiCache.prototype.remove = function (key, cb) {\r\n        this.lru.remove(key);\r\n        cb && cb(null);\r\n    };\r\n    DefaultApiCache.prototype.clear = function (cb) {\r\n        this.lru.removeAll();\r\n        cb && cb(null);\r\n    };\r\n    return DefaultApiCache;\r\n}());\n\nfunction fetchRequest(url, options, callback) {\r\n    var fetchOptions = {\r\n        headers: {\r\n            Accept: 'application/json',\r\n        },\r\n    };\r\n    if (options && options.proxyAgent) {\r\n        fetchOptions.agent = options.proxyAgent;\r\n    }\r\n    // can't use number because of NodeJS globals included\r\n    var timeoutId;\r\n    var fetchPromise = crossFetch(url, fetchOptions);\r\n    var promise = options.timeoutInMs ? Promise.race([\r\n        fetchPromise,\r\n        new Promise(function (_, reject) {\r\n            timeoutId = setTimeout(function () { return reject(new Error(url + \" response timeout\")); }, options.timeoutInMs);\r\n        })\r\n    ]) : fetchPromise;\r\n    promise.then(function (resp) {\r\n        clearTimeout(timeoutId);\r\n        if (~~(resp.status / 100 !== 2)) {\r\n            /**\r\n             * @description\r\n             * drain the resp before throwing an error to prevent memory leaks\r\n             * @link https://github.com/bitinn/node-fetch/issues/83\r\n             */\r\n            return resp.text().then(function () {\r\n                var e = new Error(\"Unexpected status code [\" + resp.status + \"] on URL \" + url);\r\n                e.status = resp.status;\r\n                throw e;\r\n            });\r\n        }\r\n        return resp.json().then(function (result) {\r\n            var cacheControl = resp.headers.get('cache-control');\r\n            var parsedCacheControl = cacheControl ? /max-age=(\\d+)/.exec(cacheControl) : null;\r\n            var ttl = parsedCacheControl ? parseInt(parsedCacheControl[1], 10) : undefined;\r\n            callback(null, result, resp, ttl);\r\n        });\r\n    }).catch(function (err) {\r\n        clearTimeout(timeoutId);\r\n        callback(err);\r\n    });\r\n}\r\nvar DefaultRequestHandler = /** @class */ (function () {\r\n    function DefaultRequestHandler(options) {\r\n        this.options = options || {};\r\n    }\r\n    DefaultRequestHandler.prototype.request = function (url, callback) {\r\n        fetchRequest(url, this.options, callback);\r\n    };\r\n    return DefaultRequestHandler;\r\n}());\n\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient(requestHandler, cache, proxyAgent, timeoutInMs) {\r\n        this.requestHandler = requestHandler || new DefaultRequestHandler({ proxyAgent: proxyAgent, timeoutInMs: timeoutInMs });\r\n        this.cache = cache || new DefaultApiCache();\r\n    }\r\n    HttpClient.prototype.request = function (url, callback) {\r\n        this.requestHandler.request(url, function (err, result, xhr, ttl) {\r\n            if (err) {\r\n                callback && callback(err, null, xhr, ttl);\r\n            }\r\n            else if (result) {\r\n                callback && callback(null, result, xhr, ttl);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetch a URL corresponding to a query, and parse the response as a Response object\r\n     */\r\n    HttpClient.prototype.cachedRequest = function (url, maybeOptions) {\r\n        var _this = this;\r\n        var options = maybeOptions || {};\r\n        var run = function (cb) {\r\n            var cacheKey = options.cacheKey || url;\r\n            _this.cache.get(cacheKey, function (cacheGetError, cacheGetValue) {\r\n                if (cacheGetError || cacheGetValue) {\r\n                    cb(cacheGetError, cacheGetValue);\r\n                }\r\n                else {\r\n                    _this.request(url, function (fetchError, fetchValue, _, ttlReq) {\r\n                        if (fetchError) {\r\n                            cb(fetchError, null);\r\n                        }\r\n                        else {\r\n                            var ttl = ttlReq || options.ttl;\r\n                            if (ttl) {\r\n                                _this.cache.set(cacheKey, fetchValue, ttl, cb);\r\n                            }\r\n                            cb(null, fetchValue);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        return new Promise(function (resolve, reject) {\r\n            run(function (err, value) {\r\n                if (err)\r\n                    reject(err);\r\n                if (value)\r\n                    resolve(value);\r\n            });\r\n        });\r\n    };\r\n    return HttpClient;\r\n}());\n\nfunction separator(url) {\r\n    return url.indexOf('?') > -1 ? '&' : '?';\r\n}\r\nvar Api = /** @class */ (function () {\r\n    function Api(url, options) {\r\n        this.options = options || {};\r\n        this.url = url;\r\n        var queryStrings = [\r\n            this.options.accessToken && \"access_token=\" + this.options.accessToken,\r\n            this.options.routes && \"routes=\" + encodeURIComponent(JSON.stringify(this.options.routes))\r\n        ]\r\n            .filter(Boolean);\r\n        if (queryStrings.length > 0) {\r\n            this.url += separator(url) + queryStrings.join('&');\r\n        }\r\n        this.apiDataTTL = this.options.apiDataTTL || 5;\r\n        this.httpClient = new HttpClient(this.options.requestHandler, this.options.apiCache, this.options.proxyAgent, this.options.timeoutInMs);\r\n    }\r\n    /**\r\n     * Fetches data used to construct the api client, from cache if it's\r\n     * present, otherwise from calling the prismic api endpoint (which is\r\n     * then cached).\r\n     */\r\n    Api.prototype.get = function (cb) {\r\n        var _this = this;\r\n        return this.httpClient.cachedRequest(this.url, { ttl: this.apiDataTTL }).then(function (data) {\r\n            var resolvedApi = new ResolvedApi(data, _this.httpClient, _this.options);\r\n            cb && cb(null, resolvedApi);\r\n            return resolvedApi;\r\n        }).catch(function (error) {\r\n            cb && cb(error);\r\n            throw error;\r\n        });\r\n    };\r\n    return Api;\r\n}());\n\nvar DefaultClient = /** @class */ (function () {\r\n    function DefaultClient(url, options) {\r\n        this.api = new Api(url, options);\r\n    }\r\n    DefaultClient.prototype.getApi = function () {\r\n        return this.api.get();\r\n    };\r\n    DefaultClient.prototype.everything = function () {\r\n        return this.form('everything');\r\n    };\r\n    DefaultClient.prototype.form = function (formId) {\r\n        return new LazySearchForm(formId, this.api);\r\n    };\r\n    DefaultClient.prototype.query = function (q, optionsOrCallback, cb) {\r\n        return this.getApi().then(function (api) { return api.query(q, optionsOrCallback, cb); });\r\n    };\r\n    DefaultClient.prototype.queryFirst = function (q, optionsOrCallback, cb) {\r\n        return this.getApi().then(function (api) { return api.queryFirst(q, optionsOrCallback, cb); });\r\n    };\r\n    DefaultClient.prototype.getByID = function (id, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getByID(id, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getByIDs = function (ids, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getByIDs(ids, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getByUID = function (type, uid, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getByUID(type, uid, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getSingle = function (type, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getSingle(type, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getBookmark = function (bookmark, options, cb) {\r\n        return this.getApi().then(function (api) { return api.getBookmark(bookmark, options, cb); });\r\n    };\r\n    DefaultClient.prototype.getPreviewResolver = function (token, documentId) {\r\n        var _this = this;\r\n        var getDocById = function (documentId, maybeOptions) { return _this.getApi().then(function (api) {\r\n            return api.getByID(documentId, maybeOptions);\r\n        }); };\r\n        return createPreviewResolver(token, documentId, getDocById);\r\n    };\r\n    DefaultClient.getApi = function (url, options) {\r\n        var api = new Api(url, options);\r\n        return api.get();\r\n    };\r\n    return DefaultClient;\r\n}());\n\nvar index = {\r\n    experimentCookie: EXPERIMENT_COOKIE,\r\n    previewCookie: PREVIEW_COOKIE,\r\n    Predicates: Predicates,\r\n    predicates: Predicates,\r\n    Experiments: Experiments,\r\n    Api: Api,\r\n    client: client,\r\n    getApi: getApi,\r\n    api: api,\r\n};\r\nfunction client(url, options) {\r\n    return new DefaultClient(url, options);\r\n}\r\nfunction getApi(url, options) {\r\n    return DefaultClient.getApi(url, options);\r\n}\r\nfunction api(url, options) {\r\n    return getApi(url, options);\r\n}\n\nexport default index;\n//# sourceMappingURL=client.mjs.map\n"]}}