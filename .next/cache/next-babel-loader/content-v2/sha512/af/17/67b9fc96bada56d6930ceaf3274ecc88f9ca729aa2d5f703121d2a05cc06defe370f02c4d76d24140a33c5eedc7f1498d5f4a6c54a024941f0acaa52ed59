{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\n\nvar BlogForm = function BlogForm() {\n  var _useState = useState(\"\"),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      body = _useState2[0],\n      setBody = _useState2[1];\n\n  var _useState3 = useState({\n    preview: \"\",\n    raw: \"\",\n    title: title,\n    body: body\n  }),\n      image = _useState3[0],\n      setImage = _useState3[1];\n\n  var onTitleChange = function onTitleChange(e) {\n    return setTitle(e.target.value);\n  };\n\n  var onBodyChange = function onBodyChange(e) {\n    return setBody(e.target.value);\n  };\n\n  var onImageChange = function onImageChange(e) {\n    if (e.target.files.length) {\n      setImage({\n        preview: URL.createObjectURL(e.target.files[0]),\n        raw: e.target.files[0],\n        text: title,\n        body: body\n      });\n    }\n  };\n\n  console.log(image);\n\n  var handleImageSubmit = function handleImageSubmit(e) {\n    e.preventDefault();\n    var formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"body\", body);\n    formData.append(\"file\", image.raw); // Write some logic to ALSO send this image and the URL to it to Cloudinary to solve all the problems\n\n    var imageHeader = {\n      method: \"POST\",\n      body: formData\n    };\n    fetch(\"/image_entry\", imageHeader).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      return console.log(res);\n    }).catch(function (err) {\n      return console.error(err.message);\n    });\n  };\n\n  var styles = {\n    wrapper: {\n      display: \"grid\",\n      gridTemplateColumns: \"repeat(auto-fit, minmax(250px, 1fr))\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      margin: \"auto\",\n      maxWidth: \"400px\"\n    },\n    image: {\n      borderRadius: \"5px\"\n    },\n    input: {\n      margin: \"1em\"\n    }\n  };\n  return /*#__PURE__*/_jsxs(\"form\", {\n    method: \"POST\",\n    onSubmit: handleImageSubmit,\n    style: styles.wrapper,\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      children: \"Post Entry Form\"\n    }), /*#__PURE__*/_jsx(\"input\", {\n      name: \"title\",\n      placeholder: \"Title\",\n      type: \"text\",\n      onChange: onTitleChange,\n      style: styles.input\n    }), /*#__PURE__*/_jsx(\"textarea\", _defineProperty({\n      name: \"body\",\n      style: {\n        fontSize: \"12px\"\n      },\n      placeholder: \"Body\",\n      type: \"textarea\",\n      onChange: onBodyChange,\n      rows: \"10\"\n    }, \"style\", styles.input)), /*#__PURE__*/_jsx(\"input\", {\n      name: \"file\",\n      placeholder: \"Image\",\n      type: \"file\",\n      required: true,\n      onChange: onImageChange,\n      style: styles.input\n    }), /*#__PURE__*/_jsx(\"button\", {\n      style: styles.input,\n      type: \"submit\",\n      children: \"Submit\"\n    }), image.preview ? /*#__PURE__*/_jsx(\"img\", {\n      src: image.preview,\n      style: styles.image,\n      alt: \"dummy\",\n      width: \"100%\",\n      height: \"100%\"\n    }) : \"\"]\n  });\n};\n\nexport default BlogForm;","map":null,"metadata":{},"sourceType":"module"}