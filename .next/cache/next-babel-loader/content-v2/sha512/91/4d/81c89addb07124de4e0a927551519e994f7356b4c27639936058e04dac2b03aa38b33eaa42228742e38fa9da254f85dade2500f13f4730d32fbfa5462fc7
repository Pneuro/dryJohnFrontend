{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/src/pages/posts/[slug].js\";\nimport { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport ErrorPage from \"next/error\";\nimport PostBody from \"../../components/post-body\";\nimport MoreStories from \"../../components/more-stories\";\nimport Header from \"../../components/Header\";\nimport PostHeader from \"../../components/post-header\";\nimport SectionSeparator from \"../../components/section-separator\";\nimport { getAllPostsWithSlug, getPostAndMorePosts } from \"../../lib/api\";\nimport PostTitle from \"../../components/post-title\";\nimport { CMS_NAME } from \"../../lib/constants\";\nimport Nav from \"../../components/Nav\";\nexport default function Post({\n  post,\n  morePosts,\n  preview\n}) {\n  var _post$_meta;\n\n  const router = useRouter();\n\n  if (!router.isFallback && !(post !== null && post !== void 0 && (_post$_meta = post._meta) !== null && _post$_meta !== void 0 && _post$_meta.uid)) {\n    return /*#__PURE__*/_jsxDEV(ErrorPage, {\n      statusCode: 404\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      preview: preview,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this), router.isFallback ? /*#__PURE__*/_jsxDEV(PostTitle, {\n          children: \"Loading\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"article\", {\n            children: [/*#__PURE__*/_jsxDEV(Head, {\n              children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                children: [post.title[0].text, \" | Next.js Blog Example with \", CMS_NAME]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n                property: \"og:image\",\n                content: post.coverimage.url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(PostHeader, {\n              title: post.title,\n              coverImage: post.coverimage,\n              date: post.date,\n              author: post.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(PostBody, {\n              content: post.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SectionSeparator, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this), morePosts && morePosts.length > 0 && /*#__PURE__*/_jsxDEV(MoreStories, {\n            posts: morePosts\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\nexport async function getStaticProps({\n  params,\n  preview = false,\n  previewData\n}) {\n  var _data$post, _data$morePosts;\n\n  const data = await getPostAndMorePosts(params.slug, previewData);\n  return {\n    props: {\n      preview,\n      post: (_data$post = data === null || data === void 0 ? void 0 : data.post) !== null && _data$post !== void 0 ? _data$post : null,\n      morePosts: (_data$morePosts = data === null || data === void 0 ? void 0 : data.morePosts) !== null && _data$morePosts !== void 0 ? _data$morePosts : []\n    }\n  };\n}\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: (allPosts === null || allPosts === void 0 ? void 0 : allPosts.map(({\n      node\n    }) => `/posts/${node._meta.uid}`)) || [],\n    fallback: true\n  };\n}","map":{"version":3,"sources":["/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/src/pages/posts/[slug].js"],"names":["useRouter","Head","ErrorPage","PostBody","MoreStories","Header","PostHeader","SectionSeparator","getAllPostsWithSlug","getPostAndMorePosts","PostTitle","CMS_NAME","Nav","Post","post","morePosts","preview","router","isFallback","_meta","uid","title","text","coverimage","url","date","author","content","length","getStaticProps","params","previewData","data","slug","props","getStaticPaths","allPosts","paths","map","node","fallback"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport ErrorPage from \"next/error\";\nimport PostBody from \"../../components/post-body\";\nimport MoreStories from \"../../components/more-stories\";\nimport Header from \"../../components/Header\";\nimport PostHeader from \"../../components/post-header\";\nimport SectionSeparator from \"../../components/section-separator\";\n\nimport { getAllPostsWithSlug, getPostAndMorePosts } from \"../../lib/api\";\nimport PostTitle from \"../../components/post-title\";\nimport { CMS_NAME } from \"../../lib/constants\";\nimport Nav from \"../../components/Nav\";\n\nexport default function Post({ post, morePosts, preview }) {\n  const router = useRouter();\n  if (!router.isFallback && !post?._meta?.uid) {\n    return <ErrorPage statusCode={404} />;\n  }\n\n  return (\n    <>\n      <Nav />\n      <Layout preview={preview}>\n        <Container>\n          <Header />\n          {router.isFallback ? (\n            <PostTitle>Loadingâ€¦</PostTitle>\n          ) : (\n            <>\n              <article>\n                <Head>\n                  <title>\n                    {post.title[0].text} | Next.js Blog Example with {CMS_NAME}\n                  </title>\n                  <meta property=\"og:image\" content={post.coverimage.url} />\n                </Head>\n                <PostHeader\n                  title={post.title}\n                  coverImage={post.coverimage}\n                  date={post.date}\n                  author={post.author}\n                />\n                <PostBody content={post.content} />\n              </article>\n              <SectionSeparator />\n              {morePosts && morePosts.length > 0 && (\n                <MoreStories posts={morePosts} />\n              )}\n            </>\n          )}\n        </Container>\n      </Layout>\n    </>\n  );\n}\n\nexport async function getStaticProps({ params, preview = false, previewData }) {\n  const data = await getPostAndMorePosts(params.slug, previewData);\n\n  return {\n    props: {\n      preview,\n      post: data?.post ?? null,\n      morePosts: data?.morePosts ?? [],\n    },\n  };\n}\n\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: allPosts?.map(({ node }) => `/posts/${node._meta.uid}`) || [],\n    fallback: true,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}