{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/src/pages/admin.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport BlogForm from \"../components/BlogForm\";\nimport AllPosts from \"../components/AllPosts\";\nimport { useState } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Login from \"../components/login\";\n\nconst backendPage = ({\n  user,\n  logout\n}) => {\n  const {\n    0: login,\n    1: setLogin\n  } = useState(true);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(\"/login\", headers).then(res => res.json().then(res => {\n      console.log(res.data);\n\n      if (res.data === \"pete@dryjohn.com\") {\n        console.log(res);\n        setLoggedIn(true);\n      } else {\n        console.log(res);\n      }\n    }).catch(err => console.error(err)));\n  };\n\n  const headers = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  };\n  const styles = {\n    wrapper: {\n      marginTop: \"100px\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !login ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome, \", user]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => logout(),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(BlogForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AllPosts, {\n        showControls: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Login, {\n        handleSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n};\n\nbackendPage.propTypes = {\n  user: PropTypes.string\n};\nexport default backendPage;","map":{"version":3,"sources":["/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/src/pages/admin.js"],"names":["React","PropTypes","BlogForm","AllPosts","useState","Footer","Login","backendPage","user","logout","login","setLogin","handleSubmit","e","preventDefault","fetch","headers","then","res","json","console","log","data","setLoggedIn","catch","err","error","method","body","JSON","stringify","styles","wrapper","marginTop","propTypes","string"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;AACA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAAsB;AACxC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC,IAAD,CAAlC;;AAEA,QAAMQ,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAAC,QAAD,EAAWC,OAAX,CAAL,CAAyBC,IAAzB,CAA+BC,GAAD,IAC5BA,GAAG,CACAC,IADH,GAEGF,IAFH,CAESC,GAAD,IAAS;AACbE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;;AACA,UAAIJ,GAAG,CAACI,IAAJ,KAAa,kBAAjB,EAAqC;AACnCF,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAK,QAAAA,WAAW,CAAC,IAAD,CAAX;AACD,OAHD,MAGO;AACLH,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACD;AACF,KAVH,EAWGM,KAXH,CAWUC,GAAD,IAASL,OAAO,CAACM,KAAR,CAAcD,GAAd,CAXlB,CADF;AAcD,GAhBD;;AAiBA,QAAMT,OAAO,GAAG;AACdW,IAAAA,MAAM,EAAE,MADM;AAEdX,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFK;AAGdY,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AAHQ,GAAhB;AAMA,QAAMS,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACPC,MAAAA,SAAS,EAAE;AADJ;AADI,GAAf;AAKA,sBACE;AAAA,cACG,CAACvB,KAAD,gBACC;AAAK,MAAA,KAAK,EAAEqB,MAAM,CAACC,OAAnB;AAAA,8BACE;AAAA,gCAAcxB,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,OAAO,EAAE,MAAMC,MAAM,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE,QAAC,QAAD;AAAU,QAAA,YAAY,EAAE;AAAxB;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,gBASC;AAAA,6BACI,QAAC,KAAD;AAAO,QAAA,YAAY,EAAEG;AAArB;AAAA;AAAA;AAAA;AAAA;AADJ;AAVJ,mBADF;AAiBD,CAhDD;;AAkDAL,WAAW,CAAC2B,SAAZ,GAAwB;AACtB1B,EAAAA,IAAI,EAAEP,SAAS,CAACkC;AADM,CAAxB;AAIA,eAAe5B,WAAf","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport BlogForm from \"../components/BlogForm\";\nimport AllPosts from \"../components/AllPosts\";\nimport { useState } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Login from \"../components/login\";\nconst backendPage = ({ user, logout }) => {\n  const [login, setLogin] = useState(true);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(\"/login\", headers).then((res) =>\n      res\n        .json()\n        .then((res) => {\n          console.log(res.data);\n          if (res.data === \"pete@dryjohn.com\") {\n            console.log(res);\n            setLoggedIn(true);\n          } else {\n            console.log(res);\n          }\n        })\n        .catch((err) => console.error(err))\n    );\n  };\n  const headers = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  };\n\n  const styles = {\n    wrapper: {\n      marginTop: \"100px\",\n    },\n  };\n  return (\n    <>\n      {!login ? (\n        <div style={styles.wrapper}>\n          <h1>Welcome, {user}</h1>\n          <button onClick={() => logout()}>Logout</button>\n          <BlogForm />\n          <AllPosts showControls={true} />\n          <Footer />\n        </div>\n      ) : (\n        <>\n            <Login handleSubmit={handleSubmit}/>\n        </>\n      )}\n    </>\n  );\n};\n\nbackendPage.propTypes = {\n  user: PropTypes.string,\n};\n\nexport default backendPage;\n"]},"metadata":{},"sourceType":"module"}