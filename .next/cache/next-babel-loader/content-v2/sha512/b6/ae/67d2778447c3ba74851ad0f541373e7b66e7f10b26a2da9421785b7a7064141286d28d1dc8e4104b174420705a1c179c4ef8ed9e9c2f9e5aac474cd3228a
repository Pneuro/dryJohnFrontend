{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/src/pages/posts/[slug].js\";\nimport { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport ErrorPage from \"next/error\";\nimport PostBody from \"../../components/post-body\";\nimport MoreStories from \"../../components/more-stories\";\nimport Header from \"../../components/header\";\nimport PostHeader from \"../../components/post-header\";\nimport SectionSeparator from \"../../components/section-separator\";\nimport { getAllPostsWithSlug, getPostAndMorePosts } from \"../../lib/api\";\nimport PostTitle from \"../../components/post-title\";\nimport { CMS_NAME } from \"../../lib/constants\";\nexport default function Post({\n  post,\n  morePosts,\n  preview\n}) {\n  var _post$_meta;\n\n  const router = useRouter();\n\n  if (!router.isFallback && !(post !== null && post !== void 0 && (_post$_meta = post._meta) !== null && _post$_meta !== void 0 && _post$_meta.uid)) {\n    return /*#__PURE__*/_jsxDEV(ErrorPage, {\n      statusCode: 404\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: router.isFallback ? /*#__PURE__*/_jsxDEV(PostTitle, {\n      children: \"Loading\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"article\", {\n        children: [/*#__PURE__*/_jsxDEV(Head, {\n          children: [/*#__PURE__*/_jsxDEV(\"title\", {\n            children: [post.title[0].text, \" | Next.js Blog Example with \", CMS_NAME]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n            property: \"og:image\",\n            content: post.coverimage.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(PostHeader, {\n          title: post.title,\n          coverImage: post.coverimage,\n          date: post.date,\n          author: post.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(PostBody, {\n          content: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SectionSeparator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), morePosts && morePosts.length > 0 && /*#__PURE__*/_jsxDEV(MoreStories, {\n        posts: morePosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n}\nexport async function getStaticProps({\n  params,\n  preview = false,\n  previewData\n}) {\n  var _data$post, _data$morePosts;\n\n  const data = await getPostAndMorePosts(params.slug, previewData);\n  return {\n    props: {\n      preview,\n      post: (_data$post = data === null || data === void 0 ? void 0 : data.post) !== null && _data$post !== void 0 ? _data$post : null,\n      morePosts: (_data$morePosts = data === null || data === void 0 ? void 0 : data.morePosts) !== null && _data$morePosts !== void 0 ? _data$morePosts : []\n    }\n  };\n}\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: (allPosts === null || allPosts === void 0 ? void 0 : allPosts.map(({\n      node\n    }) => `/posts/${node._meta.uid}`)) || [],\n    fallback: true\n  };\n}","map":{"version":3,"sources":["/Volumes/Studio Hard Drive/Dev_loper/dryJohn/frontend/dryjohn/src/pages/posts/[slug].js"],"names":["useRouter","Head","ErrorPage","PostBody","MoreStories","Header","PostHeader","SectionSeparator","getAllPostsWithSlug","getPostAndMorePosts","PostTitle","CMS_NAME","Post","post","morePosts","preview","router","isFallback","_meta","uid","title","text","coverimage","url","date","author","content","length","getStaticProps","params","previewData","data","slug","props","getStaticPaths","allPosts","paths","map","node","fallback"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport ErrorPage from \"next/error\";\nimport PostBody from \"../../components/post-body\";\nimport MoreStories from \"../../components/more-stories\";\nimport Header from \"../../components/header\";\nimport PostHeader from \"../../components/post-header\";\nimport SectionSeparator from \"../../components/section-separator\";\n\nimport { getAllPostsWithSlug, getPostAndMorePosts } from \"../../lib/api\";\nimport PostTitle from \"../../components/post-title\";\nimport { CMS_NAME } from \"../../lib/constants\";\n\nexport default function Post({ post, morePosts, preview }) {\n  const router = useRouter();\n  if (!router.isFallback && !post?._meta?.uid) {\n    return <ErrorPage statusCode={404} />;\n  }\n\n  return (\n    <>\n    \n\n        {router.isFallback ? (\n          <PostTitle>Loadingâ€¦</PostTitle>\n        ) : (\n          <>\n            <article>\n              <Head>\n                <title>\n                  {post.title[0].text} | Next.js Blog Example with {CMS_NAME}\n                </title>\n                <meta property=\"og:image\" content={post.coverimage.url} />\n              </Head>\n              <PostHeader\n                title={post.title}\n                coverImage={post.coverimage}\n                date={post.date}\n                author={post.author}\n              />\n              <PostBody content={post.content} />\n            </article>\n            <SectionSeparator />\n            {morePosts && morePosts.length > 0 && (\n              <MoreStories posts={morePosts} />\n            )}\n          </>\n        )}\n    \n    </>\n  );\n}\n\nexport async function getStaticProps({ params, preview = false, previewData }) {\n  const data = await getPostAndMorePosts(params.slug, previewData);\n\n  return {\n    props: {\n      preview,\n      post: data?.post ?? null,\n      morePosts: data?.morePosts ?? [],\n    },\n  };\n}\n\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: allPosts?.map(({ node }) => `/posts/${node._meta.uid}`) || [],\n    fallback: true,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}