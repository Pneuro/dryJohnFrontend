{"ast":null,"code":"// const nodemailer = require(\"nodemailer\");\n// export default function handlebar(req, res) {\n//   console.log(\"Request\", req);\n//   // async..await is not allowed in global scope, must use a wrapper\n//   async function main() {\n//     // Generate test SMTP service account from ethereal.email\n//     // Only needed if you don't have a real mail account for testing\n//     let testAccount = await nodemailer.createTestAccount();\n// console.log('User', process.env.MAIL_USER)\n//     // create reusable transporter object using the default SMTP transport\n//     let transporter = nodemailer.createTransport({\n//       host: \"smtp.gmail.com\",\n//       port: 587,\n//       secure: false,\n//       auth: {\n//         user: process.env.MAIL_USER, // generated ethereal user\n//         pass: process.env.MAIL_PASS, // generated ethereal password\n//       },\n//     });\n//     // send mail with defined transport object\n//     let info = await transporter.sendMail({\n//       from: `${req.body[1]}`, // sender address\n//       to: process.env.MAIL_USER, // list of receivers\n//       subject: `Message from dry-john.com - ${req.body[0]}`, // Subject line\n//       text: `Hello from ${req.body[0]}, \\n \\n ${req.body[3]}\\n \\n Phone number ${req.body[2]}\\n\\n Email: ${req.body[1]}`, // plain text body\n//       html: `<h1>Hello from ${req.body[0]}</h1> \\n \\n <p>${req.body[3]}</p>\\n \\n <p>\n//       Phone number ${req.body[2]}\\\n//       </p>\n//       <p>\n//       \\n Email: ${req.body[1]}\n//       </p>\n//       `, // html body\n//     });\n//     console.log(\"Message sent: %s\", info.messageId);\n//     // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n//     // Preview only available when sending through an Ethereal account\n//     console.log(\"Preview URL: %s\", nodemailer.getTestMessageUrl(info));\n//     // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n//   }\n//   main().catch(console.error);\n//   res.end();\n// }","map":null,"metadata":{},"sourceType":"script"}