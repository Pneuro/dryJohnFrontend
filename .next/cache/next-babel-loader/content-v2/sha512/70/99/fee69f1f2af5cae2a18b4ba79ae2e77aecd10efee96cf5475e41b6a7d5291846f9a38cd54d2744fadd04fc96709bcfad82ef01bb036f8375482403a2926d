{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport ErrorPage from \"next/error\";\nimport PostBody from \"../../components/post-body\";\nimport MoreStories from \"../../components/more-stories\";\nimport Header from \"../../components/header\";\nimport PostHeader from \"../../components/post-header\";\nimport SectionSeparator from \"../../components/section-separator\";\nimport { getAllPostsWithSlug, getPostAndMorePosts } from \"../../lib/api\";\nimport PostTitle from \"../../components/post-title\";\nimport { CMS_NAME } from \"../../lib/constants\";\nimport Nav from \"../../components/Nav\";\nexport default function Post({\n  post,\n  morePosts,\n  preview\n}) {\n  var _post$_meta;\n\n  const router = useRouter();\n\n  if (!router.isFallback && !(post !== null && post !== void 0 && (_post$_meta = post._meta) !== null && _post$_meta !== void 0 && _post$_meta.uid)) {\n    return /*#__PURE__*/_jsx(ErrorPage, {\n      statusCode: 404\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Nav, {}), router.isFallback ? /*#__PURE__*/_jsx(PostTitle, {\n      children: \"Loading\\u2026\"\n    }) : /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsxs(\"article\", {\n        children: [/*#__PURE__*/_jsxs(Head, {\n          children: [/*#__PURE__*/_jsxs(\"title\", {\n            children: [post.title[0].text, \" | Next.js Blog Example with \", CMS_NAME]\n          }), /*#__PURE__*/_jsx(\"meta\", {\n            property: \"og:image\",\n            content: post.coverimage.url\n          })]\n        }), /*#__PURE__*/_jsx(PostHeader, {\n          title: post.title,\n          coverImage: post.coverimage,\n          date: post.date,\n          author: post.author\n        }), /*#__PURE__*/_jsx(PostBody, {\n          content: post.content\n        })]\n      }), /*#__PURE__*/_jsx(SectionSeparator, {}), morePosts && morePosts.length > 0 && /*#__PURE__*/_jsx(MoreStories, {\n        posts: morePosts\n      })]\n    })]\n  });\n}\nexport async function getStaticProps({\n  params,\n  preview = false,\n  previewData\n}) {\n  var _data$post, _data$morePosts;\n\n  const data = await getPostAndMorePosts(params.slug, previewData);\n  return {\n    props: {\n      preview,\n      post: (_data$post = data === null || data === void 0 ? void 0 : data.post) !== null && _data$post !== void 0 ? _data$post : null,\n      morePosts: (_data$morePosts = data === null || data === void 0 ? void 0 : data.morePosts) !== null && _data$morePosts !== void 0 ? _data$morePosts : []\n    }\n  };\n}\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: (allPosts === null || allPosts === void 0 ? void 0 : allPosts.map(({\n      node\n    }) => `/posts/${node._meta.uid}`)) || [],\n    fallback: true\n  };\n}","map":null,"metadata":{},"sourceType":"module"}